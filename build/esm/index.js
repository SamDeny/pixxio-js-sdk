function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function o(){return Object.create(null)}function r(e){e.forEach(n)}function i(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function c(e){let t;return a(e,(e=>t=e))(),t}function l(e,t,n){e.$$.on_destroy.push(a(t,n))}function u(e,n,o,r){return e[1]&&r?t(o.ctx.slice(),e[1](r(n))):o.ctx}function p(e,t,n,o,r,i,s){const a=function(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|r[o];return e}return t.dirty|r}return t.dirty}(t,o,r,i);if(a){const r=u(t,n,o,s);e.p(r,a)}}function f(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function d(e,t){e.appendChild(t)}function h(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode.removeChild(e)}function g(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function y(e){return document.createTextNode(e)}function b(){return y(" ")}function w(){return y("")}function x(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function k(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function O(e,t){e.value=null==t?"":t}function E(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function T(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}}function _(e,t,n){e.classList[n?"add":"remove"](t)}let S;function A(e){S=e}function C(){if(!S)throw new Error("Function called outside component initialization");return S}function j(e){C().$$.on_mount.push(e)}function D(){const e=C();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);o.slice().forEach((t=>{t.call(e,r)}))}}}const P=[],L=[],N=[],z=[],R=Promise.resolve();let F=!1;function M(e){N.push(e)}function U(e){z.push(e)}let B=!1;const I=new Set;function H(){if(!B){B=!0;do{for(let e=0;e<P.length;e+=1){const t=P[e];A(t),q(t.$$)}for(A(null),P.length=0;L.length;)L.pop()();for(let e=0;e<N.length;e+=1){const t=N[e];I.has(t)||(I.add(t),t())}N.length=0}while(P.length);for(;z.length;)z.pop()();F=!1,B=!1,I.clear()}}function q(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(M)}}const V=new Set;let W;function J(){W={r:0,c:[],p:W}}function K(){W.r||r(W.c),W=W.p}function X(e,t){e&&e.i&&(V.delete(e),e.i(t))}function G(e,t,n,o){if(e&&e.o){if(V.has(e))return;V.add(e),W.c.push((()=>{V.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function Y(e,t){const n=t.token={};function o(e,o,r,i){if(t.token!==n)return;t.resolved=i;let s=t.ctx;void 0!==r&&(s=s.slice(),s[r]=i);const a=e&&(t.current=e)(s);let c=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==o&&e&&(J(),G(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),K())})):t.block.d(1),a.c(),X(a,1),a.m(t.mount(),t.anchor),c=!0),t.block=a,t.blocks&&(t.blocks[o]=a),c&&H()}if((r=e)&&"object"==typeof r&&"function"==typeof r.then){const n=C();if(e.then((e=>{A(n),o(t.then,1,t.value,e),A(null)}),(e=>{if(A(n),o(t.catch,2,t.error,e),A(null),!t.hasCatch)throw e})),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}var r}function Q(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function Z(e){e&&e.c()}function ee(e,t,o,s){const{fragment:a,on_mount:c,on_destroy:l,after_update:u}=e.$$;a&&a.m(t,o),s||M((()=>{const t=c.map(n).filter(i);l?l.push(...t):r(t),e.$$.on_mount=[]})),u.forEach(M)}function te(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ne(e,t){-1===e.$$.dirty[0]&&(P.push(e),F||(F=!0,R.then(H)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function oe(t,n,i,s,a,c,l=[-1]){const u=S;A(t);const p=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:l,skip_bound:!1};let f=!1;if(p.ctx=i?i(t,n.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&a(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),f&&ne(t,e)),n})):[],p.update(),f=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(m)}else p.fragment&&p.fragment.c();n.intro&&X(t.$$.fragment),ee(t,n.target,n.anchor,n.customElement),H()}A(u)}class re{$destroy(){te(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ie=[];function se(t,n=e){let o;const r=[];function i(e){if(s(t,e)&&(t=e,o)){const e=!ie.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),ie.push(n,t)}if(e){for(let e=0;e<ie.length;e+=2)ie[e][0](ie[e+1]);ie.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(s,a=e){const c=[s,a];return r.push(c),1===r.length&&(o=n(i)||e),s(t),()=>{const e=r.indexOf(c);-1!==e&&r.splice(e,1),0===r.length&&(o(),o=null)}}}}var ae=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}},ce=Object.prototype.toString;function le(e){return"[object Array]"===ce.call(e)}function ue(e){return void 0===e}function pe(e){return null!==e&&"object"==typeof e}function fe(e){if("[object Object]"!==ce.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function de(e){return"[object Function]"===ce.call(e)}function he(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),le(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var me={isArray:le,isArrayBuffer:function(e){return"[object ArrayBuffer]"===ce.call(e)},isBuffer:function(e){return null!==e&&!ue(e)&&null!==e.constructor&&!ue(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:pe,isPlainObject:fe,isUndefined:ue,isDate:function(e){return"[object Date]"===ce.call(e)},isFile:function(e){return"[object File]"===ce.call(e)},isBlob:function(e){return"[object Blob]"===ce.call(e)},isFunction:de,isStream:function(e){return pe(e)&&de(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:he,merge:function e(){var t={};function n(n,o){fe(t[o])&&fe(n)?t[o]=e(t[o],n):fe(n)?t[o]=e({},n):le(n)?t[o]=n.slice():t[o]=n}for(var o=0,r=arguments.length;o<r;o++)he(arguments[o],n);return t},extend:function(e,t,n){return he(t,(function(t,o){e[o]=n&&"function"==typeof t?ae(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}};function ge(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ve=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(me.isURLSearchParams(t))o=t.toString();else{var r=[];me.forEach(t,(function(e,t){null!=e&&(me.isArray(e)?t+="[]":e=[e],me.forEach(e,(function(e){me.isDate(e)?e=e.toISOString():me.isObject(e)&&(e=JSON.stringify(e)),r.push(ge(t)+"="+ge(e))})))})),o=r.join("&")}if(o){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e};function ye(){this.handlers=[]}ye.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},ye.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},ye.prototype.forEach=function(e){me.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var be=ye,we=function(e,t){me.forEach(e,(function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])}))},xe=function(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},$e=function(e,t,n,o,r){var i=new Error(e);return xe(i,t,n,o,r)},ke=me.isStandardBrowserEnv()?{write:function(e,t,n,o,r,i){var s=[];s.push(e+"="+encodeURIComponent(t)),me.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),me.isString(o)&&s.push("path="+o),me.isString(r)&&s.push("domain="+r),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Oe=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Ee=me.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=me.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function Te(e){this.message=e}Te.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Te.prototype.__CANCEL__=!0;var _e=Te,Se=function(e){return new Promise((function(t,n){var o,r=e.data,i=e.headers,s=e.responseType;function a(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}me.isFormData(r)&&delete i["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.Authorization="Basic "+btoa(l+":"+u)}var p,f,d=(p=e.baseURL,f=e.url,p&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(f)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(p,f):f);function h(){if(c){var o,r,i,l,u,p="getAllResponseHeaders"in c?(o=c.getAllResponseHeaders(),u={},o?(me.forEach(o.split("\n"),(function(e){if(l=e.indexOf(":"),r=me.trim(e.substr(0,l)).toLowerCase(),i=me.trim(e.substr(l+1)),r){if(u[r]&&Oe.indexOf(r)>=0)return;u[r]="set-cookie"===r?(u[r]?u[r]:[]).concat([i]):u[r]?u[r]+", "+i:i}})),u):u):null;!function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t($e("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}((function(e){t(e),a()}),(function(e){n(e),a()}),{data:s&&"text"!==s&&"json"!==s?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:p,config:e,request:c}),c=null}}if(c.open(e.method.toUpperCase(),ve(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(h)},c.onabort=function(){c&&(n($e("Request aborted",e,"ECONNABORTED",c)),c=null)},c.onerror=function(){n($e("Network Error",e,null,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",o=e.transitional||Pe.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n($e(t,e,o.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},me.isStandardBrowserEnv()){var m=(e.withCredentials||Ee(d))&&e.xsrfCookieName?ke.read(e.xsrfCookieName):void 0;m&&(i[e.xsrfHeaderName]=m)}"setRequestHeader"in c&&me.forEach(i,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete i[t]:c.setRequestHeader(t,e)})),me.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&"json"!==s&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(o=function(e){c&&(n(!e||e&&e.type?new _e("canceled"):e),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o))),r||(r=null),c.send(r)}))},Ae={"Content-Type":"application/x-www-form-urlencoded"};function Ce(e,t){!me.isUndefined(e)&&me.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var je,De={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(je=Se),je),transformRequest:[function(e,t){return we(t,"Accept"),we(t,"Content-Type"),me.isFormData(e)||me.isArrayBuffer(e)||me.isBuffer(e)||me.isStream(e)||me.isFile(e)||me.isBlob(e)?e:me.isArrayBufferView(e)?e.buffer:me.isURLSearchParams(e)?(Ce(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):me.isObject(e)||t&&"application/json"===t["Content-Type"]?(Ce(t,"application/json"),function(e,t,n){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||De.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,r=!n&&"json"===this.responseType;if(r||o&&me.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw xe(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};me.forEach(["delete","get","head"],(function(e){De.headers[e]={}})),me.forEach(["post","put","patch"],(function(e){De.headers[e]=me.merge(Ae)}));var Pe=De,Le=function(e,t,n){var o=this||Pe;return me.forEach(n,(function(n){e=n.call(o,e,t)})),e},Ne=function(e){return!(!e||!e.__CANCEL__)};function ze(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _e("canceled")}var Re=function(e){return ze(e),e.headers=e.headers||{},e.data=Le.call(e,e.data,e.headers,e.transformRequest),e.headers=me.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),me.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Pe.adapter)(e).then((function(t){return ze(e),t.data=Le.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return Ne(t)||(ze(e),t&&t.response&&(t.response.data=Le.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Fe=function(e,t){t=t||{};var n={};function o(e,t){return me.isPlainObject(e)&&me.isPlainObject(t)?me.merge(e,t):me.isPlainObject(t)?me.merge({},t):me.isArray(t)?t.slice():t}function r(n){return me.isUndefined(t[n])?me.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function i(e){if(!me.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return me.isUndefined(t[n])?me.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function a(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a};return me.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||r,o=t(e);me.isUndefined(o)&&t!==a||(n[e]=o)})),n},Me="0.24.0",Ue=Me,Be={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Be[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Ie={};Be.transitional=function(e,t,n){function o(e,t){return"[Axios v"+Ue+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,i){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!Ie[r]&&(Ie[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,i)}};var He={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var o=Object.keys(e),r=o.length;r-- >0;){var i=o[r],s=t[i];if(s){var a=e[i],c=void 0===a||s(a,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:Be},qe=He.validators;function Ve(e){this.defaults=e,this.interceptors={request:new be,response:new be}}Ve.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Fe(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&He.assertOptions(t,{silentJSONParsing:qe.transitional(qe.boolean),forcedJSONParsing:qe.transitional(qe.boolean),clarifyTimeoutError:qe.transitional(qe.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var r,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!o){var s=[Re,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(i),r=Promise.resolve(e);s.length;)r=r.then(s.shift(),s.shift());return r}for(var a=e;n.length;){var c=n.shift(),l=n.shift();try{a=c(a)}catch(e){l(e);break}}try{r=Re(a)}catch(e){return Promise.reject(e)}for(;i.length;)r=r.then(i.shift(),i.shift());return r},Ve.prototype.getUri=function(e){return e=Fe(this.defaults,e),ve(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},me.forEach(["delete","get","head","options"],(function(e){Ve.prototype[e]=function(t,n){return this.request(Fe(n||{},{method:e,url:t,data:(n||{}).data}))}})),me.forEach(["post","put","patch"],(function(e){Ve.prototype[e]=function(t,n,o){return this.request(Fe(o||{},{method:e,url:t,data:n}))}}));var We=Ve;function Je(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,o=n._listeners.length;for(t=0;t<o;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,o=new Promise((function(e){n.subscribe(e),t=e})).then(e);return o.cancel=function(){n.unsubscribe(t)},o},e((function(e){n.reason||(n.reason=new _e(e),t(n.reason))}))}Je.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Je.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},Je.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},Je.source=function(){var e;return{token:new Je((function(t){e=t})),cancel:e}};var Ke=Je;var Xe=function e(t){var n=new We(t),o=ae(We.prototype.request,n);return me.extend(o,We.prototype,n),me.extend(o,n),o.create=function(n){return e(Fe(t,n))},o}(Pe);Xe.Axios=We,Xe.Cancel=_e,Xe.CancelToken=Ke,Xe.isCancel=Ne,Xe.VERSION=Me,Xe.all=function(e){return Promise.all(e)},Xe.spread=function(e){return function(t){return e.apply(null,t)}},Xe.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError};var Ge=Xe,Ye=Xe;Ge.default=Ye;var Qe=Ge;const Ze=se(""),et=se(""),tt=se(""),nt=se(""),ot=se(!0),rt=se("en"),it=se(!1),st=se(!1),at=se("get"),ct=se(!1),lt=se(!1);class ut{accessToken="";refreshToken="";domain="";appKey="";proxyConfig={};constructor(){Ze.subscribe((e=>this.domain=e)),et.subscribe((e=>this.appKey=e)),tt.subscribe((e=>this.refreshToken=e)),nt.subscribe((e=>this.accessToken=e))}get(e,t={},n=!0,o=null,r=!0,i=!0){return this.call("get",e,t,n,o,r,i)}post(e,t={},n=!0,o=null,r=!0,i=!0){return this.call("post",e,t,n,o,r,i)}put(e,t={},n=!0,o=null,r=!0,i=!0){return this.call("put",e,t,n,o,r,i)}delete(e,t={},n=!0,o=null,r=!0,i=!0){return this.call("delete",e,t,n,o,r,i)}callAccessToken(){return new Promise(((e,t)=>{let n={refreshToken:this.refreshToken,applicationKey:this.appKey};this.post("/accessToken",n,!1).then((n=>{n.success?(this.accessToken=n.accessToken,nt.update((()=>n.accessToken)),e(n)):t(n)})).catch(t)}))}call(e,t,n={},o=!0,r=null,i=!0,s=!0){return this.proxyConfig=JSON.parse(localStorage.getItem("proxy")),new Promise(((a,c)=>{const l=(l,u)=>{const p="https://"+this.domain.replace(/(http|https):\/\//,"")+"/gobackend"+t;let f=l;if(s){f=new URLSearchParams;for(const e of Object.keys(l)){let t=l[e];"object"==typeof t&&(t=JSON.stringify(t)),f.set(e,t)}f=f.toString()}u||(u={}),i&&(u["Content-Type"]="application/x-www-form-urlencoded"),r&&(u={...u,...r});let d={url:p,request:{method:"post",headers:u,data:f}};switch(e){case"get":d={url:p+"?"+f,request:{headers:u}};break;case"put":d={url:p,request:{method:"put",headers:u,data:f}};break;case"delete":d={url:p,request:{method:"delete",headers:u,data:f}}}Qe({url:d.url,proxy:this.proxyConfig,...d.request}).then((({data:l})=>{if(!0===l.success||"true"===l.success)a(l);else switch(l.errorcode){case 15007:case 15008:this.callAccessToken().then((()=>{this.call(e,t,n,o,r,i,s).subscribe((e=>{a(e)}))}));break;case 5266:default:c(l.errormessage)}})).catch((e=>c()))};if(o){let e={};e={Authorization:"Key "+this.accessToken},l(n,e)}else l(n)}))}}function pt(t){let n;return{c(){n=v("div"),n.innerHTML='<div class="header__logo svelte-bfa57z"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 25.78" class="svelte-bfa57z"><path d="M41.34 6.14a5.72 5.72 0 00-3.37-.97 5.54 5.54 0 00-3.33.97 4.9 4.9 0 00-1.07 1 1.58 1.58 0 00-1.58-1.59h-.18a.3.3 0 00-.3.31V24a.3.3 0 00.3.31h.42a1.61 1.61 0 001.61-1.61v-4.37a5.18 5.18 0 00.8.72 5.56 5.56 0 003.33 1 5.72 5.72 0 003.37-.96 6.59 6.59 0 002.17-2.65 8.96 8.96 0 00.76-3.79 8.85 8.85 0 00-.76-3.78 6.37 6.37 0 00-2.17-2.72zm0 9.15a4.11 4.11 0 01-1.37 1.89 3.6 3.6 0 01-2.3.69 3.63 3.63 0 01-3.69-2.58 8.39 8.39 0 01-.44-2.75 7.57 7.57 0 01.44-2.76 4.2 4.2 0 011.34-1.85 3.63 3.63 0 012.28-.66 3.96 3.96 0 012.37.69 4.3 4.3 0 011.38 1.9 7.32 7.32 0 01.44 2.68 7.45 7.45 0 01-.45 2.75z"></path><path d="M47.44 19.9h1.69a.3.3 0 00.31-.3V6.18a.3.3 0 00-.31-.3h-1.69a.3.3 0 00-.31.3V19.6a.3.3 0 00.31.3z"></path><path d="M81.31 15.38h1.7a.3.3 0 00.3-.31V6.26a.3.3 0 00-.3-.31h-1.7a.3.3 0 00-.3.31v8.8a.3.3 0 00.3.32z"></path><path d="M64.36 5.84h-1.97a.31.31 0 00-.27.14L58.4 11l-3.75-5.02a.44.44 0 00-.24-.14h-1.96a.31.31 0 00-.24.51l4.89 6.44-5 6.6a.32.32 0 00.25.52h1.96a.23.23 0 00.24-.14l3.85-5.2 3.86 5.23a.42.42 0 00.27.14h1.96a.31.31 0 00.24-.52l-4.99-6.6 4.89-6.44a.35.35 0 00-.27-.54z"></path><path d="M77.98 5.84h-1.96a.31.31 0 00-.28.14L72.03 11l-3.75-5.02a.44.44 0 00-.24-.14h-1.97a.31.31 0 00-.24.51l4.89 6.44-5.02 6.6a.32.32 0 00.24.52h1.96a.23.23 0 00.24-.14l3.85-5.2 3.86 5.2a.42.42 0 00.27.14h1.96a.31.31 0 00.24-.52l-4.99-6.6 4.89-6.44a.31.31 0 00-.24-.51z"></path><path d="M99.2 9.04a6.16 6.16 0 00-2.33-2.62 6.94 6.94 0 00-3.65-.96 6.68 6.68 0 00-3.58.93A6.26 6.26 0 0087.27 9a8.63 8.63 0 00-.83 3.9 8.58 8.58 0 00.83 3.84 6.4 6.4 0 002.34 2.62 7.37 7.37 0 007.22.03 6.16 6.16 0 002.34-2.61 8.63 8.63 0 00.83-3.89 8.05 8.05 0 00-.8-3.85zm-2.71 7.6a3.77 3.77 0 01-3.24 1.44 3.86 3.86 0 01-3.23-1.44 6.21 6.21 0 01-1.1-3.82 7.37 7.37 0 01.48-2.72 3.8 3.8 0 011.41-1.82 4.06 4.06 0 012.41-.66 3.84 3.84 0 013.23 1.41 6.1 6.1 0 011.07 3.79 5.92 5.92 0 01-1.03 3.82z"></path><path class="logoIcon svelte-bfa57z" d="M81.31 19.77h1.7a.3.3 0 00.3-.31v-1.68a.3.3 0 00-.3-.31h-1.7a.3.3 0 00-.3.3v1.7a.3.3 0 00.3.3z"></path><path class="logoIcon svelte-bfa57z" d="M13.18 25.78a13.48 13.48 0 01-6.75-1.82l-.68-.4v-3.4H2.27l-.41-.67A12.76 12.76 0 010 12.9 13.06 13.06 0 0113.18 0a13.06 13.06 0 0113.18 12.9 13.06 13.06 0 01-13.18 12.88zm-4.61-3.8a10.27 10.27 0 004.6 1.04A10.26 10.26 0 0023.54 12.9 10.23 10.23 0 0013.18 2.8 10.26 10.26 0 002.82 12.92a10.13 10.13 0 001.07 4.51h1.86v-4.5a7.37 7.37 0 017.43-7.28 7.37 7.37 0 017.43 7.27 7.37 7.37 0 01-7.43 7.27H8.57zm4.6-13.56a4.56 4.56 0 00-4.6 4.5v4.52h4.6a4.51 4.51 0 100-9.02z"></path></svg></div>',$(n,"class","header svelte-bfa57z")},m(e,t){h(e,n,t)},p:e,i:e,o:e,d(e){e&&m(n)}}}class ft extends re{constructor(e){super(),oe(this,e,null,pt,s,{})}}const dt=se(!1),ht=se(""),mt=se("preview"),gt=se([]),vt=se(null),yt=se(1),bt=se(0),wt=se([]),xt=se(!1),$t=se(!1),kt=se(!1);function Ot(t){let n,o,i,s,a,c,l;return{c(){n=v("div"),o=v("div"),i=v("input"),s=b(),a=v("label"),a.textContent="Search",$(i,"id","pixxio-search"),$(i,"type","text"),$(i,"placeholder"," "),$(i,"class","svelte-8a3fjp"),$(a,"for","pixxio-search"),$(a,"class","svelte-8a3fjp"),$(o,"class","field svelte-8a3fjp"),$(n,"class","searchField fields svelte-8a3fjp")},m(e,r){h(e,n,r),d(n,o),d(o,i),O(i,t[0]),d(o,s),d(o,a),c||(l=[x(i,"input",t[2]),x(i,"input",t[1])],c=!0)},p(e,[t]){1&t&&i.value!==e[0]&&O(i,e[0])},i:e,o:e,d(e){e&&m(n),c=!1,r(l)}}}function Et(e,t,n){let{value:o=""}=t,r=null;return e.$$set=e=>{"value"in e&&n(0,o=e.value)},[o,()=>{r&&clearTimeout(r),r=setTimeout((()=>{ht.update((()=>o))}),200)},function(){o=this.value,n(0,o)}]}class Tt extends re{constructor(e){super(),oe(this,e,Et,Ot,s,{value:0})}}function _t(e){let t="en";rt.subscribe((e=>t=e));return{de:{mediaspace:"Mediaspace (example.px.media)",username:"Username oder E-Mail",password:"Passwort",signin:"Anmelden",signin_description:"Bitte melde dich in dein pixxio System an um Dateien auszuwählen.",signin_error:"Ungültiger Benutzer oder Passwort",application_key_error:"Das Plugin ist nicht für deinen Mediaspace freigegeben. Kontaktiere deinen Administrator oder support@pixx.io für weitere Informationen.",cancel:"Abbrechen",select:"Auswählen",selected:"ausgewählt",please_select:"Format wählen",original:"Original",preview:"Vorschau",logged_in_as:"Du bist angemeldet als: ",logout:"Ausloggen",duplicate_file:"Duplikat: Die Datei existiert bereits.",success_upload_file:"Die Datei wurde erfolgreich hochgeladen.",advanced:"Erweiterte Einstellungen",proxy_connection_string:"Proxy Verbindung (http://127.0.0.1:8080)",proxy_protocol:"Proxy Protokoll",proxy_host:"Proxy Host",proxy_port:"Proxy Port",proxy_auth_username:"Username (optional)",proxy_auth_password:"Password (optional)"},en:{mediaspace:"Mediaspace (example.px.media)",username:"Username or email",password:"Password",signin:"Sign in",signin_description:"Please sign in to your pixxio system to select files.",signin_error:"Invalid username or password",application_key_error:"The plugin is locked for your mediaspace. Contact your administrator or support@pixx.io for more information.",cancel:"Cancel",select:"Select",selected:"selected",please_select:"Choose a format",original:"Original",preview:"Preview",logged_in_as:"You are logged in as: ",logout:"Logout",duplicate_file:"Duplicate file: The file already exists.",success_upload_file:"File successfully uploaded.",advanced:"Advanced settings",proxy_connection_string:"Proxy Connection (http://127.0.0.1:8080)",proxy_protocol:"Proxy Protocol",proxy_host:"Proxy Host",proxy_port:"Proxy Port",proxy_auth_username:"Username (optional)",proxy_auth_password:"Password (optional)"}}[t||"en"][e]}function St(t){let n;return{c(){n=v("div"),n.innerHTML='<div class="svelte-fhr97u"><svg xmlns="http://www.w3.org/2000/svg" id="pixxioIcon" viewBox="0 0 76.52 76.52" class="svelte-fhr97u"><path stroke="black" stroke-width="5" d="M24.76 50.76v-13c0-7.17 5.94-13 13.25-13s13.25 5.83 13.25 13c0 7.18-5.94 13-13.25 13H26.27l-11.17.38s-3.34-8.2-3.34-12.88a26.51 26.51 0 0126.5-26.5 26.51 26.51 0 0126.5 26.5 26.51 26.51 0 01-26.5 26.5c-4.85 0-9.58-1.3-13.5-3.6z" fill="none" class="svelte-fhr97u"></path></svg></div>',$(n,"id","pixxio-ta-loading"),$(n,"class","svelte-fhr97u")},m(e,t){h(e,n,t)},p:e,i:e,o:e,d(e){e&&m(n)}}}class At extends re{constructor(e){super(),oe(this,e,null,St,s,{})}}function Ct(e){let t,n,o,i,s,a;return{c(){t=v("div"),n=v("input"),o=b(),i=v("label"),i.textContent=`${_t("mediaspace")}`,$(n,"id","pixxio-mediaspace"),n.disabled=e[3],$(n,"type","text"),$(n,"placeholder"," "),$(n,"class","svelte-zok5rk"),$(i,"for","pixxio-mediaspace"),$(i,"class","svelte-zok5rk"),$(t,"class","field svelte-zok5rk")},m(r,c){h(r,t,c),d(t,n),O(n,e[4]),d(t,o),d(t,i),s||(a=[x(n,"input",e[13]),x(n,"keydown",e[12])],s=!0)},p(e,t){8&t&&(n.disabled=e[3]),16&t&&n.value!==e[4]&&O(n,e[4])},d(e){e&&m(t),s=!1,r(a)}}}function jt(e){let t,n,o,r,i,s,a=e[6]&&Dt(e);return{c(){t=v("small"),n=v("a"),n.textContent=`${_t("advanced")}`,o=b(),a&&a.c(),r=w(),$(n,"href","#"),$(n,"class","advanced svelte-zok5rk"),$(t,"class","svelte-zok5rk")},m(c,l){h(c,t,l),d(t,n),h(c,o,l),a&&a.m(c,l),h(c,r,l),i||(s=x(n,"click",e[16]),i=!0)},p(e,t){e[6]?a?a.p(e,t):(a=Dt(e),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(e){e&&m(t),e&&m(o),a&&a.d(e),e&&m(r),i=!1,s()}}}function Dt(e){let t,n,o,i,s,a,c,l,u,p,f,g,y,w,k,E,T,_,S,A;return{c(){t=v("br"),n=b(),o=v("br"),i=b(),s=v("div"),a=v("input"),c=b(),l=v("label"),l.textContent=`${_t("proxy_connection_string")}`,u=b(),p=v("div"),f=v("input"),g=b(),y=v("label"),y.textContent=`${_t("proxy_auth_username")}`,w=b(),k=v("div"),E=v("input"),T=b(),_=v("label"),_.textContent=`${_t("proxy_auth_password")}`,$(a,"id","pixxio-host"),a.disabled=e[3],$(a,"type","text"),$(a,"placeholder"," "),$(a,"class","svelte-zok5rk"),$(l,"for","pixxio-host"),$(l,"class","svelte-zok5rk"),$(s,"class","field svelte-zok5rk"),$(f,"id","pixxio-auth-username"),f.disabled=e[3],$(f,"type","text"),$(f,"placeholder"," "),$(f,"class","svelte-zok5rk"),$(y,"for","pixxio-auth-username"),$(y,"class","svelte-zok5rk"),$(p,"class","field svelte-zok5rk"),$(E,"id","pixxio-auth-password"),E.disabled=e[3],$(E,"type","password"),$(E,"placeholder"," "),$(E,"class","svelte-zok5rk"),$(_,"for","pixxio-auth-password"),$(_,"class","svelte-zok5rk"),$(k,"class","field svelte-zok5rk")},m(r,m){h(r,t,m),h(r,n,m),h(r,o,m),h(r,i,m),h(r,s,m),d(s,a),O(a,e[7].connectionString),d(s,c),d(s,l),h(r,u,m),h(r,p,m),d(p,f),O(f,e[7].auth.username),d(p,g),d(p,y),h(r,w,m),h(r,k,m),d(k,E),O(E,e[7].auth.password),d(k,T),d(k,_),S||(A=[x(a,"input",e[17]),x(f,"input",e[18]),x(E,"input",e[19])],S=!0)},p(e,t){8&t&&(a.disabled=e[3]),128&t&&a.value!==e[7].connectionString&&O(a,e[7].connectionString),8&t&&(f.disabled=e[3]),128&t&&f.value!==e[7].auth.username&&O(f,e[7].auth.username),8&t&&(E.disabled=e[3]),128&t&&E.value!==e[7].auth.password&&O(E,e[7].auth.password)},d(e){e&&m(t),e&&m(n),e&&m(o),e&&m(i),e&&m(s),e&&m(u),e&&m(p),e&&m(w),e&&m(k),S=!1,r(A)}}}function Pt(t){let n;return{c(){n=v("small"),n.textContent=`${_t("signin_error")}`,$(n,"class","error svelte-zok5rk")},m(e,t){h(e,n,t)},p:e,d(e){e&&m(n)}}}function Lt(t){let n;return{c(){n=v("small"),n.textContent=`${_t("application_key_error")}`,$(n,"class","error svelte-zok5rk")},m(e,t){h(e,n,t)},p:e,d(e){e&&m(n)}}}function Nt(e){let t,n;return t=new At({}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function zt(e){let t,n,o,i,s,a,c,l,u,p,f,g,w,k,E,T,S,A,C,j,D,P,L,N,z,R,F=_t("signin")+"",M=!e[8]&&Ct(e),U=e[10]&&jt(e),B=e[2]&&!e[5]&&Pt(),I=e[2]&&e[5]&&Lt(),H=e[3]&&Nt();return{c(){t=v("div"),n=v("h2"),n.textContent=`${_t("signin")}`,o=b(),i=v("p"),i.textContent=`${_t("signin_description")}`,s=b(),M&&M.c(),a=b(),c=v("div"),l=v("input"),u=b(),p=v("label"),p.textContent=`${_t("username")}`,f=b(),g=v("div"),w=v("input"),k=b(),E=v("label"),E.textContent=`${_t("password")}`,T=b(),U&&U.c(),S=b(),B&&B.c(),A=b(),I&&I.c(),C=b(),j=v("div"),D=v("button"),P=y(F),L=b(),H&&H.c(),$(n,"class","svelte-zok5rk"),$(i,"class","svelte-zok5rk"),$(l,"id","pixxio-username"),l.disabled=e[3],$(l,"type","text"),$(l,"placeholder"," "),$(l,"class","svelte-zok5rk"),$(p,"for","pixxio-username"),$(p,"class","svelte-zok5rk"),$(c,"class","field svelte-zok5rk"),$(w,"id","pixxio-password"),w.disabled=e[3],$(w,"type","password"),$(w,"placeholder"," "),$(w,"class","svelte-zok5rk"),$(E,"for","pixxio-password"),$(E,"class","svelte-zok5rk"),$(g,"class","field svelte-zok5rk"),$(D,"class","button svelte-zok5rk"),$(D,"type","submit"),D.disabled=e[3],$(j,"class","buttonGroup buttonGroup--fullSize svelte-zok5rk"),$(t,"class","login fields svelte-zok5rk"),_(t,"no-modal",!e[9])},m(r,m){h(r,t,m),d(t,n),d(t,o),d(t,i),d(t,s),M&&M.m(t,null),d(t,a),d(t,c),d(c,l),O(l,e[0]),d(c,u),d(c,p),d(t,f),d(t,g),d(g,w),O(w,e[1]),d(g,k),d(g,E),d(t,T),U&&U.m(t,null),d(t,S),B&&B.m(t,null),d(t,A),I&&I.m(t,null),d(t,C),d(t,j),d(j,D),d(D,P),d(t,L),H&&H.m(t,null),N=!0,z||(R=[x(l,"input",e[14]),x(l,"keydown",e[12]),x(w,"input",e[15]),x(w,"keydown",e[12]),x(D,"click",e[11])],z=!0)},p(e,[n]){e[8]?M&&(M.d(1),M=null):M?M.p(e,n):(M=Ct(e),M.c(),M.m(t,a)),(!N||8&n)&&(l.disabled=e[3]),1&n&&l.value!==e[0]&&O(l,e[0]),(!N||8&n)&&(w.disabled=e[3]),2&n&&w.value!==e[1]&&O(w,e[1]),e[10]?U?U.p(e,n):(U=jt(e),U.c(),U.m(t,S)):U&&(U.d(1),U=null),e[2]&&!e[5]?B?B.p(e,n):(B=Pt(),B.c(),B.m(t,A)):B&&(B.d(1),B=null),e[2]&&e[5]?I?I.p(e,n):(I=Lt(),I.c(),I.m(t,C)):I&&(I.d(1),I=null),(!N||8&n)&&(D.disabled=e[3]),e[3]?H?8&n&&X(H,1):(H=Nt(),H.c(),X(H,1),H.m(t,null)):H&&(J(),G(H,1,1,(()=>{H=null})),K()),512&n&&_(t,"no-modal",!e[9])},i(e){N||(X(H),N=!0)},o(e){G(H),N=!1},d(e){e&&m(t),M&&M.d(),U&&U.d(),B&&B.d(),I&&I.d(),H&&H.d(),z=!1,r(R)}}}function Rt(e,t,n){let o,r,i,s;l(e,Ze,(e=>n(8,o=e))),l(e,et,(e=>n(20,r=e))),l(e,ot,(e=>n(9,i=e))),l(e,ct,(e=>n(10,s=e)));const a=D(),c=new ut;let u="",p="",f=!1,d=!1,h="",m=!1,g=!1,v={connectionString:"",auth:{username:"",password:""}};const y=localStorage.getItem("refreshToken");h=localStorage.getItem("domain"),h&&Ze.update((()=>h)),y&&(o||h)&&(d=!0,tt.update((()=>y)),c.callAccessToken().then((()=>{n(3,d=!1),a("authenticated")})).catch((e=>{tt.update((()=>"")),n(3,d=!1),n(5,m=15016===e.errorcode)})));const b=async()=>{try{n(3,d=!0),n(2,f=!1),n(4,h=h.replace(/(http|https):\/\//,"").trim());const e=new FormData;e.set("applicationKey",r),e.set("userNameOrEmail",u.trim()),e.set("password",p.trim());let t=null;if(v.connectionString){const e=v.connectionString.split(":");t={protocol:/^http/gi.test(e[0])?e[0]:"http",host:/^http/gi.test(e[0])?e[1].replace("//",""):e[0].replace("//",""),port:(/^http/gi.test(e[0])?e[2]:e[1])||"",auth:v.auth},localStorage.setItem("proxy",JSON.stringify(t))}const o=await Qe({url:`https://${h}/gobackend/login`,method:"POST",data:e});if(n(3,d=!1),!o.data.success)throw n(2,f=!0),o.data;tt.update((()=>o.data.refreshToken)),Ze.update((()=>h)),localStorage.setItem("domain",h),localStorage.setItem("refreshToken",o.data.refreshToken),c.callAccessToken().then((()=>{a("authenticated")}))}catch(e){n(3,d=!1),n(2,f=!0),console.log(e),n(5,m=15016===e.errorcode)}};return[u,p,f,d,h,m,g,v,o,i,s,b,e=>{"Enter"===e.key&&b()},function(){h=this.value,n(4,h)},function(){u=this.value,n(0,u)},function(){p=this.value,n(1,p)},()=>n(6,g=!g),function(){v.connectionString=this.value,n(7,v)},function(){v.auth.username=this.value,n(7,v)},function(){v.auth.password=this.value,n(7,v)}]}class Ft extends re{constructor(e){super(),oe(this,e,Rt,zt,s,{})}}function Mt(e,t,n){const o=e.slice();return o[13]=t[n],o}function Ut(e){let t,n,o,i,s,a,c,l,u,p=e[3]&&Bt(),f=e[2]&&It(),y=e[1],k=[];for(let t=0;t<y.length;t+=1)k[t]=Ht(Mt(e,y,t));return{c(){t=v("div"),n=v("div"),o=v("select"),p&&p.c(),i=w(),f&&f.c(),s=w();for(let e=0;e<k.length;e+=1)k[e].c();a=b(),c=v("label"),c.textContent=`${_t("please_select")}`,$(o,"name",""),$(o,"id","pixxioDownloadFormats__dropdown"),$(o,"placeholder"," "),$(o,"class","svelte-m3x3tp"),void 0===e[0]&&M((()=>e[7].call(o))),$(c,"for","pixxioDownloadFormats__dropdown"),$(c,"class","svelte-m3x3tp"),$(n,"class","field svelte-m3x3tp"),$(t,"class","downloadFormats fields svelte-m3x3tp")},m(r,m){h(r,t,m),d(t,n),d(n,o),p&&p.m(o,null),d(o,i),f&&f.m(o,null),d(o,s);for(let e=0;e<k.length;e+=1)k[e].m(o,null);T(o,e[0]),d(n,a),d(n,c),l||(u=[x(o,"change",e[7]),x(o,"blur",e[5])],l=!0)},p(e,t){if(e[3]?p?p.p(e,t):(p=Bt(),p.c(),p.m(o,i)):p&&(p.d(1),p=null),e[2]?f?f.p(e,t):(f=It(),f.c(),f.m(o,s)):f&&(f.d(1),f=null),2&t){let n;for(y=e[1],n=0;n<y.length;n+=1){const r=Mt(e,y,n);k[n]?k[n].p(r,t):(k[n]=Ht(r),k[n].c(),k[n].m(o,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=y.length}3&t&&T(o,e[0])},d(e){e&&m(t),p&&p.d(),f&&f.d(),g(k,e),l=!1,r(u)}}}function Bt(t){let n;return{c(){n=v("option"),n.textContent=`${_t("preview")}`,n.__value="preview",n.value=n.__value},m(e,t){h(e,n,t)},p:e,d(e){e&&m(n)}}}function It(t){let n;return{c(){n=v("option"),n.textContent=`${_t("original")}`,n.__value="original",n.value=n.__value},m(e,t){h(e,n,t)},p:e,d(e){e&&m(n)}}}function Ht(e){let t,n,o,r=e[13].name+"";return{c(){t=v("option"),n=y(r),t.__value=o=e[13].id,t.value=t.__value},m(e,o){h(e,t,o),d(t,n)},p(e,i){2&i&&r!==(r=e[13].name+"")&&k(n,r),2&i&&o!==(o=e[13].id)&&(t.__value=o,t.value=t.__value)},d(e){e&&m(t)}}}function qt(t){let n,o=!t[4]&&Ut(t);return{c(){o&&o.c(),n=w()},m(e,t){o&&o.m(e,t),h(e,n,t)},p(e,[t]){e[4]?o&&(o.d(1),o=null):o?o.p(e,t):(o=Ut(e),o.c(),o.m(n.parentNode,n))},i:e,o:e,d(e){o&&o.d(e),e&&m(n)}}}function Vt(e,t,n){let o;l(e,vt,(e=>n(6,o=e)));const r=new ut;let i,s=[],a=!1,c=!1,u=!1,p=!0;j((()=>{f()}));const f=()=>{(o&&o.length?o.filter((e=>"original"!==e&&"preview"!==e)):[]).length?h():n(1,s=[]),o&&1===o.length&&n(0,i=o[0]),d()},d=()=>{mt.update((()=>i))},h=async()=>{try{a=!0;const e={responseFields:["id","name"]},t=await r.get("/downloadFormats",e);if(!t.success)throw new Error(t.errormessage);n(1,s=t.downloadFormats.filter((e=>null===vt||null!==o&&o.includes(e.id)))),a=!1}catch(e){a=!1}};return e.$$.update=()=>{64&e.$$.dirty&&(n(4,p=1===(o||[]).length),n(2,c=null===o||null!==o&&o.includes("original")),n(3,u=null===o||null!==o&&o.includes("preview")),f())},[i,s,c,u,p,d,o,function(){i=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,i),n(1,s)}]}class Wt extends re{constructor(e){super(),oe(this,e,Vt,qt,s,{})}}function Jt(e,t,n){const o=e.slice();return o[3]=t[n],o}function Kt(e){let t,n,o,r,s,a,c;return{c(){t=v("li"),n=v("img"),s=b(),$(n,"loading","lazy"),n.src!==(o=e[3].imagePath||e[3].modifiedPreviewFileURLs[0])&&$(n,"src",o),$(n,"alt",r=e[3].fileName),$(n,"class","svelte-1y7flg5"),$(t,"class","pixxioSelection__file svelte-1y7flg5")},m(o,r){h(o,t,r),d(t,n),d(t,s),a||(c=x(t,"click",(function(){i(e[2]("deselect",e[3]))&&e[2]("deselect",e[3]).apply(this,arguments)})),a=!0)},p(t,i){e=t,2&i&&n.src!==(o=e[3].imagePath||e[3].modifiedPreviewFileURLs[0])&&$(n,"src",o),2&i&&r!==(r=e[3].fileName)&&$(n,"alt",r)},d(e){e&&m(t),a=!1,c()}}}function Xt(e){let t,n,o,r=e[0].length-e[1].length+"";return{c(){t=v("li"),n=y("+ "),o=y(r),$(t,"class","svelte-1y7flg5")},m(e,r){h(e,t,r),d(t,n),d(t,o)},p(e,t){3&t&&r!==(r=e[0].length-e[1].length+"")&&k(o,r)},d(e){e&&m(t)}}}function Gt(t){let n,o,r=dt&&function(e){let t,n=e[1],o=[];for(let t=0;t<n.length;t+=1)o[t]=Kt(Jt(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=w()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);h(e,t,n)},p(e,r){if(6&r){let i;for(n=e[1],i=0;i<n.length;i+=1){const s=Jt(e,n,i);o[i]?o[i].p(s,r):(o[i]=Kt(s),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){g(o,e),e&&m(t)}}}(t),i=t[0].length>3&&Xt(t);return{c(){n=v("ul"),r&&r.c(),o=b(),i&&i.c(),$(n,"class","svelte-1y7flg5")},m(e,t){h(e,n,t),r&&r.m(n,null),d(n,o),i&&i.m(n,null)},p(e,[t]){dt&&r.p(e,t),e[0].length>3?i?i.p(e,t):(i=Xt(e),i.c(),i.m(n,null)):i&&(i.d(1),i=null)},i:e,o:e,d(e){e&&m(n),r&&r.d(),i&&i.d()}}}function Yt(e,t,n){let o;const r=D();let{selectedFiles:i=[]}=t;return e.$$set=e=>{"selectedFiles"in e&&n(0,i=e.selectedFiles)},e.$$.update=()=>{1&e.$$.dirty&&n(1,o=i.slice(0,3))},[i,o,r]}class Qt extends re{constructor(e){super(),oe(this,e,Yt,Gt,s,{selectedFiles:0})}}var Zt="top",en="bottom",tn="right",nn="left",on=[Zt,en,tn,nn],rn=on.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),sn=[].concat(on,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),an=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function cn(e){return e?(e.nodeName||"").toLowerCase():null}function ln(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function un(e){return e instanceof ln(e).Element||e instanceof Element}function pn(e){return e instanceof ln(e).HTMLElement||e instanceof HTMLElement}function fn(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ln(e).ShadowRoot||e instanceof ShadowRoot)}var dn={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},r=t.elements[e];pn(r)&&cn(r)&&(Object.assign(r.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],r=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});pn(o)&&cn(o)&&(Object.assign(o.style,i),Object.keys(r).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]};function hn(e){return e.split("-")[0]}var mn=Math.max,gn=Math.min,vn=Math.round;function yn(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),o=1,r=1;if(pn(e)&&t){var i=e.offsetHeight,s=e.offsetWidth;s>0&&(o=vn(n.width)/s||1),i>0&&(r=vn(n.height)/i||1)}return{width:n.width/o,height:n.height/r,top:n.top/r,right:n.right/o,bottom:n.bottom/r,left:n.left/o,x:n.left/o,y:n.top/r}}function bn(e){var t=yn(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function wn(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&fn(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function xn(e){return ln(e).getComputedStyle(e)}function $n(e){return["table","td","th"].indexOf(cn(e))>=0}function kn(e){return((un(e)?e.ownerDocument:e.document)||window.document).documentElement}function On(e){return"html"===cn(e)?e:e.assignedSlot||e.parentNode||(fn(e)?e.host:null)||kn(e)}function En(e){return pn(e)&&"fixed"!==xn(e).position?e.offsetParent:null}function Tn(e){for(var t=ln(e),n=En(e);n&&$n(n)&&"static"===xn(n).position;)n=En(n);return n&&("html"===cn(n)||"body"===cn(n)&&"static"===xn(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&pn(e)&&"fixed"===xn(e).position)return null;for(var n=On(e);pn(n)&&["html","body"].indexOf(cn(n))<0;){var o=xn(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(e)||t}function _n(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Sn(e,t,n){return mn(e,gn(t,n))}function An(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Cn(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function jn(e){return e.split("-")[1]}var Dn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Pn(e){var t,n=e.popper,o=e.popperRect,r=e.placement,i=e.variation,s=e.offsets,a=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,p=e.isFixed,f=s.x,d=void 0===f?0:f,h=s.y,m=void 0===h?0:h,g="function"==typeof u?u({x:d,y:m}):{x:d,y:m};d=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=nn,w=Zt,x=window;if(l){var $=Tn(n),k="clientHeight",O="clientWidth";if($===ln(n)&&"static"!==xn($=kn(n)).position&&"absolute"===a&&(k="scrollHeight",O="scrollWidth"),$=$,r===Zt||(r===nn||r===tn)&&"end"===i)w=en,m-=(p&&x.visualViewport?x.visualViewport.height:$[k])-o.height,m*=c?1:-1;if(r===nn||(r===Zt||r===en)&&"end"===i)b=tn,d-=(p&&x.visualViewport?x.visualViewport.width:$[O])-o.width,d*=c?1:-1}var E,T=Object.assign({position:a},l&&Dn),_=!0===u?function(e){var t=e.x,n=e.y,o=window.devicePixelRatio||1;return{x:vn(t*o)/o||0,y:vn(n*o)/o||0}}({x:d,y:m}):{x:d,y:m};return d=_.x,m=_.y,c?Object.assign({},T,((E={})[w]=y?"0":"",E[b]=v?"0":"",E.transform=(x.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",E)):Object.assign({},T,((t={})[w]=y?m+"px":"",t[b]=v?d+"px":"",t.transform="",t))}var Ln={passive:!0};var Nn={left:"right",right:"left",bottom:"top",top:"bottom"};function zn(e){return e.replace(/left|right|bottom|top/g,(function(e){return Nn[e]}))}var Rn={start:"end",end:"start"};function Fn(e){return e.replace(/start|end/g,(function(e){return Rn[e]}))}function Mn(e){var t=ln(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Un(e){return yn(kn(e)).left+Mn(e).scrollLeft}function Bn(e){var t=xn(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function In(e){return["html","body","#document"].indexOf(cn(e))>=0?e.ownerDocument.body:pn(e)&&Bn(e)?e:In(On(e))}function Hn(e,t){var n;void 0===t&&(t=[]);var o=In(e),r=o===(null==(n=e.ownerDocument)?void 0:n.body),i=ln(o),s=r?[i].concat(i.visualViewport||[],Bn(o)?o:[]):o,a=t.concat(s);return r?a:a.concat(Hn(On(s)))}function qn(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Vn(e,t){return"viewport"===t?qn(function(e){var t=ln(e),n=kn(e),o=t.visualViewport,r=n.clientWidth,i=n.clientHeight,s=0,a=0;return o&&(r=o.width,i=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=o.offsetLeft,a=o.offsetTop)),{width:r,height:i,x:s+Un(e),y:a}}(e)):un(t)?function(e){var t=yn(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):qn(function(e){var t,n=kn(e),o=Mn(e),r=null==(t=e.ownerDocument)?void 0:t.body,i=mn(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=mn(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-o.scrollLeft+Un(e),c=-o.scrollTop;return"rtl"===xn(r||n).direction&&(a+=mn(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:s,x:a,y:c}}(kn(e)))}function Wn(e,t,n){var o="clippingParents"===t?function(e){var t=Hn(On(e)),n=["absolute","fixed"].indexOf(xn(e).position)>=0&&pn(e)?Tn(e):e;return un(n)?t.filter((function(e){return un(e)&&wn(e,n)&&"body"!==cn(e)})):[]}(e):[].concat(t),r=[].concat(o,[n]),i=r[0],s=r.reduce((function(t,n){var o=Vn(e,n);return t.top=mn(o.top,t.top),t.right=gn(o.right,t.right),t.bottom=gn(o.bottom,t.bottom),t.left=mn(o.left,t.left),t}),Vn(e,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Jn(e){var t,n=e.reference,o=e.element,r=e.placement,i=r?hn(r):null,s=r?jn(r):null,a=n.x+n.width/2-o.width/2,c=n.y+n.height/2-o.height/2;switch(i){case Zt:t={x:a,y:n.y-o.height};break;case en:t={x:a,y:n.y+n.height};break;case tn:t={x:n.x+n.width,y:c};break;case nn:t={x:n.x-o.width,y:c};break;default:t={x:n.x,y:n.y}}var l=i?_n(i):null;if(null!=l){var u="y"===l?"height":"width";switch(s){case"start":t[l]=t[l]-(n[u]/2-o[u]/2);break;case"end":t[l]=t[l]+(n[u]/2-o[u]/2)}}return t}function Kn(e,t){void 0===t&&(t={});var n=t,o=n.placement,r=void 0===o?e.placement:o,i=n.boundary,s=void 0===i?"clippingParents":i,a=n.rootBoundary,c=void 0===a?"viewport":a,l=n.elementContext,u=void 0===l?"popper":l,p=n.altBoundary,f=void 0!==p&&p,d=n.padding,h=void 0===d?0:d,m=An("number"!=typeof h?h:Cn(h,on)),g="popper"===u?"reference":"popper",v=e.rects.popper,y=e.elements[f?g:u],b=Wn(un(y)?y:y.contextElement||kn(e.elements.popper),s,c),w=yn(e.elements.reference),x=Jn({reference:w,element:v,strategy:"absolute",placement:r}),$=qn(Object.assign({},v,x)),k="popper"===u?$:w,O={top:b.top-k.top+m.top,bottom:k.bottom-b.bottom+m.bottom,left:b.left-k.left+m.left,right:k.right-b.right+m.right},E=e.modifiersData.offset;if("popper"===u&&E){var T=E[r];Object.keys(O).forEach((function(e){var t=[tn,en].indexOf(e)>=0?1:-1,n=[Zt,en].indexOf(e)>=0?"y":"x";O[e]+=T[n]*t}))}return O}function Xn(e,t){void 0===t&&(t={});var n=t,o=n.placement,r=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?sn:c,u=jn(o),p=u?a?rn:rn.filter((function(e){return jn(e)===u})):on,f=p.filter((function(e){return l.indexOf(e)>=0}));0===f.length&&(f=p);var d=f.reduce((function(t,n){return t[n]=Kn(e,{placement:n,boundary:r,rootBoundary:i,padding:s})[hn(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}function Gn(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Yn(e){return[Zt,tn,en,nn].some((function(t){return e[t]>=0}))}function Qn(e,t,n){void 0===n&&(n=!1);var o,r=pn(t),i=pn(t)&&function(e){var t=e.getBoundingClientRect(),n=vn(t.width)/e.offsetWidth||1,o=vn(t.height)/e.offsetHeight||1;return 1!==n||1!==o}(t),s=kn(t),a=yn(e,i),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==cn(t)||Bn(s))&&(c=(o=t)!==ln(o)&&pn(o)?function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}(o):Mn(o)),pn(t)?((l=yn(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Un(s))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function Zn(e){var t=new Map,n=new Set,o=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var o=t.get(e);o&&r(o)}})),o.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),o}var eo={placement:"bottom",modifiers:[],strategy:"absolute"};function to(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function no(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,o=void 0===n?[]:n,r=t.defaultOptions,i=void 0===r?eo:r;return function(e,t,n){void 0===n&&(n=i);var r,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},eo,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,u={state:a,setOptions:function(n){var r="function"==typeof n?n(a.options):n;p(),a.options=Object.assign({},i,a.options,r),a.scrollParents={reference:un(e)?Hn(e):e.contextElement?Hn(e.contextElement):[],popper:Hn(t)};var s,l,f=function(e){var t=Zn(e);return an.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(o,a.options.modifiers),l=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(l).map((function(e){return l[e]}))));return a.orderedModifiers=f.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,o=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var i=r({state:a,name:t,instance:u,options:o}),s=function(){};c.push(i||s)}})),u.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,n=e.popper;if(to(t,n)){a.rects={reference:Qn(t,Tn(n),"fixed"===a.options.strategy),popper:bn(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var o=0;o<a.orderedModifiers.length;o++)if(!0!==a.reset){var r=a.orderedModifiers[o],i=r.fn,s=r.options,c=void 0===s?{}:s,p=r.name;"function"==typeof i&&(a=i({state:a,options:c,name:p,instance:u})||a)}else a.reset=!1,o=-1}}},update:(r=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(r())}))}))),s}),destroy:function(){p(),l=!0}};if(!to(e,t))return u;function p(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var oo=no({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,o=e.options,r=o.scroll,i=void 0===r||r,s=o.resize,a=void 0===s||s,c=ln(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",n.update,Ln)})),a&&c.addEventListener("resize",n.update,Ln),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",n.update,Ln)})),a&&c.removeEventListener("resize",n.update,Ln)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Jn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=void 0===o||o,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,c=void 0===a||a,l={placement:hn(t.placement),variation:jn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Pn(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Pn(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},dn,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,o=e.name,r=n.offset,i=void 0===r?[0,0]:r,s=sn.reduce((function(e,n){return e[n]=function(e,t,n){var o=hn(e),r=[nn,Zt].indexOf(o)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*r,[nn,tn].indexOf(o)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,i),e}),{}),a=s[t.placement],c=a.x,l=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[o]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=n.mainAxis,i=void 0===r||r,s=n.altAxis,a=void 0===s||s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,p=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,h=void 0===d||d,m=n.allowedAutoPlacements,g=t.options.placement,v=hn(g),y=c||(v===g||!h?[zn(g)]:function(e){if("auto"===hn(e))return[];var t=zn(e);return[Fn(e),t,Fn(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat("auto"===hn(n)?Xn(t,{placement:n,boundary:u,rootBoundary:p,padding:l,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,x=t.rects.popper,$=new Map,k=!0,O=b[0],E=0;E<b.length;E++){var T=b[E],_=hn(T),S="start"===jn(T),A=[Zt,en].indexOf(_)>=0,C=A?"width":"height",j=Kn(t,{placement:T,boundary:u,rootBoundary:p,altBoundary:f,padding:l}),D=A?S?tn:nn:S?en:Zt;w[C]>x[C]&&(D=zn(D));var P=zn(D),L=[];if(i&&L.push(j[_]<=0),a&&L.push(j[D]<=0,j[P]<=0),L.every((function(e){return e}))){O=T,k=!1;break}$.set(T,L)}if(k)for(var N=function(e){var t=b.find((function(t){var n=$.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return O=t,"break"},z=h?3:1;z>0;z--){if("break"===N(z))break}t.placement!==O&&(t.modifiersData[o]._skip=!0,t.placement=O,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name,r=n.mainAxis,i=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,p=n.padding,f=n.tether,d=void 0===f||f,h=n.tetherOffset,m=void 0===h?0:h,g=Kn(t,{boundary:c,rootBoundary:l,padding:p,altBoundary:u}),v=hn(t.placement),y=jn(t.placement),b=!y,w=_n(v),x="x"===w?"y":"x",$=t.modifiersData.popperOffsets,k=t.rects.reference,O=t.rects.popper,E="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"==typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,S={x:0,y:0};if($){if(i){var A,C="y"===w?Zt:nn,j="y"===w?en:tn,D="y"===w?"height":"width",P=$[w],L=P+g[C],N=P-g[j],z=d?-O[D]/2:0,R="start"===y?k[D]:O[D],F="start"===y?-O[D]:-k[D],M=t.elements.arrow,U=d&&M?bn(M):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},I=B[C],H=B[j],q=Sn(0,k[D],U[D]),V=b?k[D]/2-z-q-I-T.mainAxis:R-q-I-T.mainAxis,W=b?-k[D]/2+z+q+H+T.mainAxis:F+q+H+T.mainAxis,J=t.elements.arrow&&Tn(t.elements.arrow),K=J?"y"===w?J.clientTop||0:J.clientLeft||0:0,X=null!=(A=null==_?void 0:_[w])?A:0,G=P+W-X,Y=Sn(d?gn(L,P+V-X-K):L,P,d?mn(N,G):N);$[w]=Y,S[w]=Y-P}if(a){var Q,Z="x"===w?Zt:nn,ee="x"===w?en:tn,te=$[x],ne="y"===x?"height":"width",oe=te+g[Z],re=te-g[ee],ie=-1!==[Zt,nn].indexOf(v),se=null!=(Q=null==_?void 0:_[x])?Q:0,ae=ie?oe:te-k[ne]-O[ne]-se+T.altAxis,ce=ie?te+k[ne]+O[ne]-se-T.altAxis:re,le=d&&ie?function(e,t,n){var o=Sn(e,t,n);return o>n?n:o}(ae,te,ce):Sn(d?ae:oe,te,d?ce:re);$[x]=le,S[x]=le-te}t.modifiersData[o]=S}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,o=e.name,r=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=hn(n.placement),c=_n(a),l=[nn,tn].indexOf(a)>=0?"height":"width";if(i&&s){var u=function(e,t){return An("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Cn(e,on))}(r.padding,n),p=bn(i),f="y"===c?Zt:nn,d="y"===c?en:tn,h=n.rects.reference[l]+n.rects.reference[c]-s[c]-n.rects.popper[l],m=s[c]-n.rects.reference[c],g=Tn(i),v=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,y=h/2-m/2,b=u[f],w=v-p[l]-u[d],x=v/2-p[l]/2+y,$=Sn(b,x,w),k=c;n.modifiersData[o]=((t={})[k]=$,t.centerOffset=$-x,t)}},effect:function(e){var t=e.state,n=e.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&wn(t.elements.popper,o)&&(t.elements.arrow=o)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,o=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,s=Kn(t,{elementContext:"reference"}),a=Kn(t,{altBoundary:!0}),c=Gn(s,o),l=Gn(a,r,i),u=Yn(c),p=Yn(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}}]}),ro={passive:!0,capture:!0},io=function(){return document.body};function so(e,t,n){if(Array.isArray(e)){var o=e[t];return null==o?Array.isArray(n)?n[t]:n:o}return e}function ao(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function co(e,t){return"function"==typeof e?e.apply(void 0,t):e}function lo(e,t){return 0===t?e:function(o){clearTimeout(n),n=setTimeout((function(){e(o)}),t)};var n}function uo(e){return[].concat(e)}function po(e,t){-1===e.indexOf(t)&&e.push(t)}function fo(e){return[].slice.call(e)}function ho(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function mo(){return document.createElement("div")}function go(e){return["Element","Fragment"].some((function(t){return ao(e,t)}))}function vo(e){return go(e)?[e]:function(e){return ao(e,"NodeList")}(e)?fo(e):Array.isArray(e)?e:fo(document.querySelectorAll(e))}function yo(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function bo(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function wo(e,t,n){var o=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[o](t,n)}))}function xo(e,t){for(var n=t;n;){var o;if(e.contains(n))return!0;n=null==n.getRootNode||null==(o=n.getRootNode())?void 0:o.host}return!1}var $o={isTouch:!1},ko=0;function Oo(){$o.isTouch||($o.isTouch=!0,window.performance&&document.addEventListener("mousemove",Eo))}function Eo(){var e=performance.now();e-ko<20&&($o.isTouch=!1,document.removeEventListener("mousemove",Eo)),ko=e}function To(){var e,t=document.activeElement;if((e=t)&&e._tippy&&e._tippy.reference===e){var n=t._tippy;t.blur&&!n.state.isVisible&&t.blur()}}var _o=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto,So=Object.assign({appendTo:io,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Ao=Object.keys(So);function Co(e){var t=(e.plugins||[]).reduce((function(t,n){var o,r=n.name,i=n.defaultValue;r&&(t[r]=void 0!==e[r]?e[r]:null!=(o=So[r])?o:i);return t}),{});return Object.assign({},e,t)}function jo(e,t){var n=Object.assign({},t,{content:co(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Co(Object.assign({},So,{plugins:t}))):Ao).reduce((function(t,n){var o=(e.getAttribute("data-tippy-"+n)||"").trim();if(!o)return t;if("content"===n)t[n]=o;else try{t[n]=JSON.parse(o)}catch(e){t[n]=o}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},So.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function Do(e,t){e.innerHTML=t}function Po(e){var t=mo();return!0===e?t.className="tippy-arrow":(t.className="tippy-svg-arrow",go(e)?t.appendChild(e):Do(t,e)),t}function Lo(e,t){go(t.content)?(Do(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?Do(e,t.content):e.textContent=t.content)}function No(e){var t=e.firstElementChild,n=fo(t.children);return{box:t,content:n.find((function(e){return e.classList.contains("tippy-content")})),arrow:n.find((function(e){return e.classList.contains("tippy-arrow")||e.classList.contains("tippy-svg-arrow")})),backdrop:n.find((function(e){return e.classList.contains("tippy-backdrop")}))}}function zo(e){var t=mo(),n=mo();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var o=mo();function r(n,o){var r=No(t),i=r.box,s=r.content,a=r.arrow;o.theme?i.setAttribute("data-theme",o.theme):i.removeAttribute("data-theme"),"string"==typeof o.animation?i.setAttribute("data-animation",o.animation):i.removeAttribute("data-animation"),o.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof o.maxWidth?o.maxWidth+"px":o.maxWidth,o.role?i.setAttribute("role",o.role):i.removeAttribute("role"),n.content===o.content&&n.allowHTML===o.allowHTML||Lo(s,e.props),o.arrow?a?n.arrow!==o.arrow&&(i.removeChild(a),i.appendChild(Po(o.arrow))):i.appendChild(Po(o.arrow)):a&&i.removeChild(a)}return o.className="tippy-content",o.setAttribute("data-state","hidden"),Lo(o,e.props),t.appendChild(n),n.appendChild(o),r(e.props,e.props),{popper:t,onUpdate:r}}zo.$$tippy=!0;var Ro=1,Fo=[],Mo=[];function Uo(e,t){var n,o,r,i,s,a,c,l,u=jo(e,Object.assign({},So,Co(ho(t)))),p=!1,f=!1,d=!1,h=!1,m=[],g=lo(J,u.interactiveDebounce),v=Ro++,y=(l=u.plugins).filter((function(e,t){return l.indexOf(e)===t})),b={id:v,reference:e,popper:mo(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(o),cancelAnimationFrame(r)},setProps:function(t){if(b.state.isDestroyed)return;P("onBeforeUpdate",[b,t]),V();var n=b.props,o=jo(e,Object.assign({},n,ho(t),{ignoreAttributes:!0}));b.props=o,q(),n.interactiveDebounce!==o.interactiveDebounce&&(z(),g=lo(J,o.interactiveDebounce));n.triggerTarget&&!o.triggerTarget?uo(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):o.triggerTarget&&e.removeAttribute("aria-expanded");N(),D(),$&&$(n,o);b.popperInstance&&(Y(),Z().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));P("onAfterUpdate",[b,t])},setContent:function(e){b.setProps({content:e})},show:function(){var e=b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,o=$o.isTouch&&!b.props.touch,r=so(b.props.duration,0,So.duration);if(e||t||n||o)return;if(S().hasAttribute("disabled"))return;if(P("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,_()&&(x.style.visibility="visible");D(),U(),b.state.isMounted||(x.style.transition="none");if(_()){var i=C(),s=i.box,c=i.content;yo([s,c],0)}a=function(){var e;if(b.state.isVisible&&!h){if(h=!0,x.offsetHeight,x.style.transition=b.props.moveTransition,_()&&b.props.animation){var t=C(),n=t.box,o=t.content;yo([n,o],r),bo([n,o],"visible")}L(),N(),po(Mo,b),null==(e=b.popperInstance)||e.forceUpdate(),P("onMount",[b]),b.props.animation&&_()&&function(e,t){I(e,t)}(r,(function(){b.state.isShown=!0,P("onShown",[b])}))}},function(){var e,t=b.props.appendTo,n=S();e=b.props.interactive&&t===io||"parent"===t?n.parentNode:co(t,[n]);e.contains(x)||e.appendChild(x);b.state.isMounted=!0,Y()}()},hide:function(){var e=!b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,o=so(b.props.duration,1,So.duration);if(e||t||n)return;if(P("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,h=!1,p=!1,_()&&(x.style.visibility="hidden");if(z(),B(),D(!0),_()){var r=C(),i=r.box,s=r.content;b.props.animation&&(yo([i,s],o),bo([i,s],"hidden"))}L(),N(),b.props.animation?_()&&function(e,t){I(e,(function(){!b.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&t()}))}(o,b.unmount):b.unmount()},hideWithInteractivity:function(e){A().addEventListener("mousemove",g),po(Fo,g),g(e)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){b.state.isVisible&&b.hide();if(!b.state.isMounted)return;Q(),Z().forEach((function(e){e._tippy.unmount()})),x.parentNode&&x.parentNode.removeChild(x);Mo=Mo.filter((function(e){return e!==b})),b.state.isMounted=!1,P("onHidden",[b])},destroy:function(){if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),V(),delete e._tippy,b.state.isDestroyed=!0,P("onDestroy",[b])}};if(!u.render)return b;var w=u.render(b),x=w.popper,$=w.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+b.id,b.popper=x,e._tippy=b,x._tippy=b;var k=y.map((function(e){return e.fn(b)})),O=e.hasAttribute("aria-expanded");return q(),N(),D(),P("onCreate",[b]),u.showOnCreate&&ee(),x.addEventListener("mouseenter",(function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()})),x.addEventListener("mouseleave",(function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&A().addEventListener("mousemove",g)})),b;function E(){var e=b.props.touch;return Array.isArray(e)?e:[e,0]}function T(){return"hold"===E()[0]}function _(){var e;return!(null==(e=b.props.render)||!e.$$tippy)}function S(){return c||e}function A(){var e=S().parentNode;return e?function(e){var t,n=uo(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}(e):document}function C(){return No(x)}function j(e){return b.state.isMounted&&!b.state.isVisible||$o.isTouch||i&&"focus"===i.type?0:so(b.props.delay,e?0:1,So.delay)}function D(e){void 0===e&&(e=!1),x.style.pointerEvents=b.props.interactive&&!e?"":"none",x.style.zIndex=""+b.props.zIndex}function P(e,t,n){var o;(void 0===n&&(n=!0),k.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(o=b.props)[e].apply(o,t)}function L(){var t=b.props.aria;if(t.content){var n="aria-"+t.content,o=x.id;uo(b.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(b.state.isVisible)e.setAttribute(n,t?t+" "+o:o);else{var r=t&&t.replace(o,"").trim();r?e.setAttribute(n,r):e.removeAttribute(n)}}))}}function N(){!O&&b.props.aria.expanded&&uo(b.props.triggerTarget||e).forEach((function(e){b.props.interactive?e.setAttribute("aria-expanded",b.state.isVisible&&e===S()?"true":"false"):e.removeAttribute("aria-expanded")}))}function z(){A().removeEventListener("mousemove",g),Fo=Fo.filter((function(e){return e!==g}))}function R(t){if(!$o.isTouch||!d&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!b.props.interactive||!xo(x,n)){if(uo(b.props.triggerTarget||e).some((function(e){return xo(e,n)}))){if($o.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else P("onClickOutside",[b,t]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),f=!0,setTimeout((function(){f=!1})),b.state.isMounted||B())}}}function F(){d=!0}function M(){d=!1}function U(){var e=A();e.addEventListener("mousedown",R,!0),e.addEventListener("touchend",R,ro),e.addEventListener("touchstart",M,ro),e.addEventListener("touchmove",F,ro)}function B(){var e=A();e.removeEventListener("mousedown",R,!0),e.removeEventListener("touchend",R,ro),e.removeEventListener("touchstart",M,ro),e.removeEventListener("touchmove",F,ro)}function I(e,t){var n=C().box;function o(e){e.target===n&&(wo(n,"remove",o),t())}if(0===e)return t();wo(n,"remove",s),wo(n,"add",o),s=o}function H(t,n,o){void 0===o&&(o=!1),uo(b.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,o),m.push({node:e,eventType:t,handler:n,options:o})}))}function q(){var e;T()&&(H("touchstart",W,{passive:!0}),H("touchend",K,{passive:!0})),(e=b.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(H(e,W),e){case"mouseenter":H("mouseleave",K);break;case"focus":H(_o?"focusout":"blur",X);break;case"focusin":H("focusout",X)}}))}function V(){m.forEach((function(e){var t=e.node,n=e.eventType,o=e.handler,r=e.options;t.removeEventListener(n,o,r)})),m=[]}function W(e){var t,n=!1;if(b.state.isEnabled&&!G(e)&&!f){var o="focus"===(null==(t=i)?void 0:t.type);i=e,c=e.currentTarget,N(),!b.state.isVisible&&ao(e,"MouseEvent")&&Fo.forEach((function(t){return t(e)})),"click"===e.type&&(b.props.trigger.indexOf("mouseenter")<0||p)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:ee(e),"click"===e.type&&(p=!n),n&&!o&&te(e)}}function J(e){var t=e.target,n=S().contains(t)||x.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,o=t.clientY;return e.every((function(e){var t=e.popperRect,r=e.popperState,i=e.props.interactiveBorder,s=r.placement.split("-")[0],a=r.modifiersData.offset;if(!a)return!0;var c="bottom"===s?a.top.y:0,l="top"===s?a.bottom.y:0,u="right"===s?a.left.x:0,p="left"===s?a.right.x:0,f=t.top-o+c>i,d=o-t.bottom-l>i,h=t.left-n+u>i,m=n-t.right-p>i;return f||d||h||m}))}(Z().concat(x).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:u}:null})).filter(Boolean),e)&&(z(),te(e))}function K(e){G(e)||b.props.trigger.indexOf("click")>=0&&p||(b.props.interactive?b.hideWithInteractivity(e):te(e))}function X(e){b.props.trigger.indexOf("focusin")<0&&e.target!==S()||b.props.interactive&&e.relatedTarget&&x.contains(e.relatedTarget)||te(e)}function G(e){return!!$o.isTouch&&T()!==e.type.indexOf("touch")>=0}function Y(){Q();var t=b.props,n=t.popperOptions,o=t.placement,r=t.offset,i=t.getReferenceClientRect,s=t.moveTransition,c=_()?No(x).arrow:null,l=i?{getBoundingClientRect:i,contextElement:i.contextElement||S()}:e,u=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(_()){var n=C().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];_()&&c&&u.push({name:"arrow",options:{element:c,padding:3}}),u.push.apply(u,(null==n?void 0:n.modifiers)||[]),b.popperInstance=oo(l,x,Object.assign({},n,{placement:o,onFirstUpdate:a,modifiers:u}))}function Q(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Z(){return fo(x.querySelectorAll("[data-tippy-root]"))}function ee(e){b.clearDelayTimeouts(),e&&P("onTrigger",[b,e]),U();var t=j(!0),o=E(),r=o[0],i=o[1];$o.isTouch&&"hold"===r&&i&&(t=i),t?n=setTimeout((function(){b.show()}),t):b.show()}function te(e){if(b.clearDelayTimeouts(),P("onUntrigger",[b,e]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&p)){var t=j(!1);t?o=setTimeout((function(){b.state.isVisible&&b.hide()}),t):r=requestAnimationFrame((function(){b.hide()}))}}else B()}}function Bo(e,t){void 0===t&&(t={});var n=So.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",Oo,ro),window.addEventListener("blur",To);var o=Object.assign({},t,{plugins:n}),r=vo(e).reduce((function(e,t){var n=t&&Uo(t,o);return n&&e.push(n),e}),[]);return go(e)?r[0]:r}function Io(e){let t,n,o,r,i,s,a,c,l,u,p,f,g=e[2]&&Ho(e),y=e[3]&&qo(e),w=e[4]&&Vo(e);return{c(){t=v("li"),n=v("figure"),o=v("div"),r=v("img"),a=b(),c=v("div"),g&&g.c(),l=b(),y&&y.c(),u=b(),w&&w.c(),$(r,"loading","lazy"),r.src!==(i=e[0].imagePath||e[0].modifiedPreviewFileURLs[0])&&$(r,"src",i),$(r,"alt",s=e[0].fileName),$(r,"class","svelte-1tzh62p"),$(c,"class","tags svelte-1tzh62p"),$(o,"class","pixxioSquare svelte-1tzh62p"),_(o,"pixxioSquare--active",e[0].selected),$(n,"class","svelte-1tzh62p"),$(t,"class","svelte-1tzh62p")},m(i,s){h(i,t,s),d(t,n),d(n,o),d(o,r),d(o,a),d(o,c),g&&g.m(c,null),d(c,l),y&&y.m(c,null),d(n,u),w&&w.m(n,null),p||(f=x(t,"click",e[9]),p=!0)},p(e,t){1&t&&r.src!==(i=e[0].imagePath||e[0].modifiedPreviewFileURLs[0])&&$(r,"src",i),1&t&&s!==(s=e[0].fileName)&&$(r,"alt",s),e[2]?g?g.p(e,t):(g=Ho(e),g.c(),g.m(c,l)):g&&(g.d(1),g=null),e[3]?y?y.p(e,t):(y=qo(e),y.c(),y.m(c,null)):y&&(y.d(1),y=null),1&t&&_(o,"pixxioSquare--active",e[0].selected),e[4]?w?w.p(e,t):(w=Vo(e),w.c(),w.m(n,null)):w&&(w.d(1),w=null)},d(e){e&&m(t),g&&g.d(),y&&y.d(),w&&w.d(),p=!1,f()}}}function Ho(e){let t,n,o=e[6](e[0].fileSize)+"";return{c(){t=v("div"),n=y(o),$(t,"class","tag svelte-1tzh62p")},m(e,o){h(e,t,o),d(t,n)},p(e,t){1&t&&o!==(o=e[6](e[0].fileSize)+"")&&k(n,o)},d(e){e&&m(t)}}}function qo(e){let t,n,o=e[0].fileExtension+"";return{c(){t=v("div"),n=y(o),$(t,"class","tag svelte-1tzh62p")},m(e,o){h(e,t,o),d(t,n)},p(e,t){1&t&&o!==(o=e[0].fileExtension+"")&&k(n,o)},d(e){e&&m(t)}}}function Vo(e){let t,n,o=e[0].fileName+"";return{c(){t=v("figcaption"),n=y(o),$(t,"class","svelte-1tzh62p")},m(o,r){h(o,t,r),d(t,n),e[8](t)},p(e,t){1&t&&o!==(o=e[0].fileName+"")&&k(n,o)},d(n){n&&m(t),e[8](null)}}}function Wo(t){let n,o=t[0]&&Io(t);return{c(){o&&o.c(),n=w()},m(e,t){o&&o.m(e,t),h(e,n,t)},p(e,[t]){e[0]?o?o.p(e,t):(o=Io(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:e,o:e,d(e){o&&o.d(e),e&&m(n)}}}function Jo(e,t,n){let o,r,i,s;l(e,bt,(e=>n(13,o=e))),l(e,kt,(e=>n(2,r=e))),l(e,$t,(e=>n(3,i=e))),l(e,xt,(e=>n(4,s=e)));let{file:a=null}=t,{selected:c=!1}=t,u=null,p=null;const f=D();let d,h=0;const m=()=>{if(1===o){const e=Date.now()-h;d&&clearTimeout(d),e<200?v():d=setTimeout((()=>{g()}),200),h=Date.now()}else g()},g=()=>{f(c?"deselect":"select",a)},v=()=>{1===o?f("selectAndClose",a):g()},y=()=>{p&&p.destroy()};var b;b=()=>y(),C().$$.on_destroy.push(b);return e.$$set=e=>{"file"in e&&n(0,a=e.file),"selected"in e&&n(7,c=e.selected)},e.$$.update=()=>{1&e.$$.dirty&&a&&u&&(y(),p=Bo(u,{content:a.fileName,arrow:!1}))},[a,u,r,i,s,m,e=>e>1e8?Math.ceil(e/1e9*100)/100+" GB":e>1e5?Math.ceil(e/1e6*100)/100+" MB":e>1e3?Math.ceil(e/1e3)+" KB":Math.ceil(e)+" B",c,function(e){L[e?"unshift":"push"]((()=>{u=e,n(1,u)}))},()=>m()]}Bo.defaultProps=So,Bo.setDefaultProps=function(e){Object.keys(e).forEach((function(t){So[t]=e[t]}))},Bo.currentInput=$o,Object.assign({},dn,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),Bo.setDefaultProps({render:zo});class Ko extends re{constructor(e){super(),oe(this,e,Jo,Wo,s,{file:0,selected:7})}}function Xo(e){let t,n;const o=e[2].default,r=function(e,t,n,o){if(e){const r=u(e,t,n,o);return e[0](r)}}(o,e,e[1],null);return{c(){t=v("div"),r&&r.c(),$(t,"class","svelte-18x7sgz"),_(t,"success",e[0].success)},m(e,o){h(e,t,o),r&&r.m(t,null),n=!0},p(e,[n]){r&&r.p&&2&n&&p(r,o,e,e[1],n,null,null),1&n&&_(t,"success",e[0].success)},i(e){n||(X(r,e),n=!0)},o(e){G(r,e),n=!1},d(e){e&&m(t),r&&r.d(e)}}}function Go(e,n,o){let{$$slots:r={},$$scope:i}=n;return e.$$set=e=>{o(0,n=t(t({},n),f(e))),"$$scope"in e&&o(1,i=e.$$scope)},[n=f(n),i,r]}class Yo extends re{constructor(e){super(),oe(this,e,Go,Xo,s,{})}}function Qo(e,t,n){const o=e.slice();return o[33]=t[n],o[34]=t,o[35]=n,o}function Zo(t){let n;return{c(){n=y("error")},m(e,t){h(e,n,t)},p:e,i:e,o:e,d(e){e&&m(n)}}}function er(e){let t,n,o,i,s,a,c,l,u,p,f,w,k,O,T,S,A,C=_t("select")+"",j=e[4],D=[];for(let t=0;t<j.length;t+=1)D[t]=tr(Qo(e,j,t));const P=e=>G(D[e],1,1,(()=>{D[e]=null}));let L=e[1]>0&&nr(e),N=e[10]&&!e[9]&&or(e);return p=new Wt({}),{c(){t=v("section"),n=v("ul");for(let e=0;e<D.length;e+=1)D[e].c();o=b(),i=v("div"),s=v("div"),L&&L.c(),a=b(),N&&N.c(),c=b(),l=v("span"),u=b(),Z(p.$$.fragment),f=b(),w=v("button"),k=y(C),$(n,"class","svelte-wpisvp"),$(t,"class","pixxioFiles__container svelte-wpisvp"),_(t,"pixxioFiles__container--maxReached",e[6]),E(l,"flex-grow","1"),$(w,"class","button svelte-wpisvp"),$(w,"type","submit"),w.disabled=O=!e[7]||e[5],$(s,"class","buttonGroup buttonGroup--right svelte-wpisvp"),$(i,"class","svelte-wpisvp"),_(i,"compact",e[9])},m(r,m){h(r,t,m),d(t,n);for(let e=0;e<D.length;e+=1)D[e].m(n,null);h(r,o,m),h(r,i,m),d(i,s),L&&L.m(s,null),d(s,a),N&&N.m(s,null),d(s,c),d(s,l),d(s,u),ee(p,s,null),d(s,f),d(s,w),d(w,k),T=!0,S||(A=[x(t,"scroll",e[11]),x(w,"click",e[15])],S=!0)},p(e,o){if(28688&o[0]){let t;for(j=e[4],t=0;t<j.length;t+=1){const r=Qo(e,j,t);D[t]?(D[t].p(r,o),X(D[t],1)):(D[t]=tr(r),D[t].c(),X(D[t],1),D[t].m(n,null))}for(J(),t=j.length;t<D.length;t+=1)P(t);K()}64&o[0]&&_(t,"pixxioFiles__container--maxReached",e[6]),e[1]>0?L?L.p(e,o):(L=nr(e),L.c(),L.m(s,a)):L&&(L.d(1),L=null),e[10]&&!e[9]?N?(N.p(e,o),1536&o[0]&&X(N,1)):(N=or(e),N.c(),X(N,1),N.m(s,c)):N&&(J(),G(N,1,1,(()=>{N=null})),K()),(!T||160&o[0]&&O!==(O=!e[7]||e[5]))&&(w.disabled=O),512&o[0]&&_(i,"compact",e[9])},i(e){if(!T){for(let e=0;e<j.length;e+=1)X(D[e]);X(N),X(p.$$.fragment,e),T=!0}},o(e){D=D.filter(Boolean);for(let e=0;e<D.length;e+=1)G(D[e]);G(N),G(p.$$.fragment,e),T=!1},d(e){e&&m(t),g(D,e),e&&m(o),e&&m(i),L&&L.d(),N&&N.d(),te(p),S=!1,r(A)}}}function tr(e){let t,n,o,r;function i(t){e[18](t,e[33],e[34],e[35])}function s(t){e[19](t,e[33])}let a={};return void 0!==e[33]&&(a.file=e[33]),void 0!==e[33].selected&&(a.selected=e[33].selected),t=new Ko({props:a}),L.push((()=>Q(t,"file",i))),L.push((()=>Q(t,"selected",s))),t.$on("selectAndClose",e[12]),t.$on("select",e[13]),t.$on("deselect",e[14]),{c(){Z(t.$$.fragment)},m(e,n){ee(t,e,n),r=!0},p(r,i){e=r;const s={};!n&&16&i[0]&&(n=!0,s.file=e[33],U((()=>n=!1))),!o&&16&i[0]&&(o=!0,s.selected=e[33].selected,U((()=>o=!1))),t.$set(s)},i(e){r||(X(t.$$.fragment,e),r=!0)},o(e){G(t.$$.fragment,e),r=!1},d(e){te(t,e)}}}function nr(e){let t,n,o,r,i,s,a,c=e[1]>0?"/"+e[1]:"",l=(e[9]?"":_t("selected"))+"";return{c(){t=v("p"),n=v("strong"),o=y(e[2]),r=b(),i=y(c),s=b(),a=y(l),E(t,"white-space","nowrap"),E(t,"padding","0 10px 0 0"),E(t,"margin","0")},m(e,c){h(e,t,c),d(t,n),d(n,o),d(t,r),d(t,i),d(t,s),d(t,a)},p(e,t){4&t[0]&&k(o,e[2]),2&t[0]&&c!==(c=e[1]>0?"/"+e[1]:"")&&k(i,c),512&t[0]&&l!==(l=(e[9]?"":_t("selected"))+"")&&k(a,l)},d(e){e&&m(t)}}}function or(e){let t,n,o;function r(t){e[20](t)}let i={};return void 0!==e[0]&&(i.selectedFiles=e[0]),t=new Qt({props:i}),L.push((()=>Q(t,"selectedFiles",r))),t.$on("deselect",e[14]),{c(){Z(t.$$.fragment)},m(e,n){ee(t,e,n),o=!0},p(e,o){const r={};!n&&1&o[0]&&(n=!0,r.selectedFiles=e[0],U((()=>n=!1))),t.$set(r)},i(e){o||(X(t.$$.fragment,e),o=!0)},o(e){G(t.$$.fragment,e),o=!1},d(e){te(t,e)}}}function rr(t){let n,o;return n=new At({}),{c(){Z(n.$$.fragment)},m(e,t){ee(n,e,t),o=!0},p:e,i(e){o||(X(n.$$.fragment,e),o=!0)},o(e){G(n.$$.fragment,e),o=!1},d(e){te(n,e)}}}function ir(e){let t,n,o,r={ctx:e,current:null,token:null,hasCatch:!0,pending:rr,then:er,catch:Zo,blocks:[,,,]};return Y(n=e[3],r),{c(){t=v("div"),r.block.c(),$(t,"class","pixxioFiles svelte-wpisvp"),_(t,"no-modal",!e[8])},m(e,n){h(e,t,n),r.block.m(t,r.anchor=null),r.mount=()=>t,r.anchor=null,o=!0},p(o,i){if(e=o,r.ctx=e,8&i[0]&&n!==(n=e[3])&&Y(n,r));else{const t=e.slice();r.block.p(t,i)}256&i[0]&&_(t,"no-modal",!e[8])},i(e){o||(X(r.block),o=!0)},o(e){for(let e=0;e<3;e+=1){G(r.blocks[e])}o=!1},d(e){e&&m(t),r.block.d(),r.token=null,r=null}}}function sr(e,t,n){let o,r,i,s,a,c,u,p,f,d,h,m;l(e,bt,(e=>n(1,c=e))),l(e,mt,(e=>n(17,u=e))),l(e,gt,(e=>n(25,p=e))),l(e,wt,(e=>n(26,f=e))),l(e,ot,(e=>n(8,d=e))),l(e,lt,(e=>n(9,h=e))),l(e,dt,(e=>n(10,m=e)));const g=D(),v=new ut;let y=null,b=1,w=[],x=0,$=!1,k="",O=[];j((()=>{n(3,y=T()),ht.subscribe((e=>{k=e,E()})),yt.subscribe((()=>E()))}));const E=()=>{b=1,T()},T=async e=>{try{n(5,$=!0);let t=[],o=[],r={};p.length&&(t=[{filterType:"connectorOr",filters:[...p.map((e=>({filterType:"fileExtension",fileExtension:e})))]}]),k&&(o=[{filterType:"searchTerm",term:k}]),(k||p.length)&&(r={filter:{filterType:"connectorAnd",filters:[...o,...t]}});const i={page:b,pageSize:50,responseFields:["id","modifiedPreviewFileURLs","previewFileURL","originalFileURL","width","height","fileName","fileExtension","uploadDate","modifyDate","rating","userID","fileSize","dominantColor",...f],previewFileOptions:[{height:400,quality:60}],...r},s=await v.get("/files",i);if(!s.success)throw new Yo(s.errormessage);s.files=s.files.map((e=>(e.selected=O.find((t=>t.id===e.id)),e))),e?n(4,w=[...w,...s.files]):(n(4,w=s.files),x=s.quantity),n(5,$=!1)}catch(e){console.log(e),hasError=!0,n(5,$=!1)}},_=e=>{w.find((t=>t.id===e.detail.id)).selected=!0,n(4,w),n(0,O=o>0?[e.detail,...O.slice(0,o-1)]:[e.detail,...O]),S()},S=()=>{w.forEach((e=>{e.selected=!1})),n(4,w),O.forEach((e=>{w.find((t=>t.id==e.id)).selected=!0,n(4,w)}))},A=async e=>{const t=await v.get("/files/convert",{ids:[e],downloadType:"downloadFormat",downloadFormatID:a}),n=async()=>{const e=await v.get("/files/download",{downloadID:t.downloadID});return e.downloadURL?e.downloadURL:await new Promise((e=>{setTimeout((()=>n().then((t=>e(t)))),100)}))};return await n()},C=async()=>{const e=[];n(5,$=!0);for(let t=0;t<O.length;t+=1){const n=O[t],o="preview"===a?n.previewFileURL:n.originalFileURL,r=n.modifiedPreviewFileURLs[0];["preview","original"].includes(a)||(o=await A(n.id)),e.push({id:n.id,url:o,thumbnail:r,file:n})}n(5,$=!1),g("submit",e)};return e.$$.update=()=>{2&e.$$.dirty[0]&&n(16,o=c),1&e.$$.dirty[0]&&n(2,r=O.length),65540&e.$$.dirty[0]&&n(6,i=r>=o&&o>0),131076&e.$$.dirty[0]&&n(7,s=r>=1&&u),131072&e.$$.dirty[0]&&(a=u)},[O,c,r,y,w,$,i,s,d,h,m,e=>{if($||w.length>=x)return;e.target.scrollHeight-e.target.scrollTop-e.target.offsetHeight<e.target.offsetHeight/2&&(b+=1,T(!0))},e=>{_(e),C()},_,e=>{n(0,O=O.filter((t=>t.id!==e.detail.id))),S()},C,o,u,function(e,t,o,r){o[r]=e,n(4,w)},function(t,o){e.$$.not_equal(o.selected,t)&&(o.selected=t,n(4,w))},function(e){O=e,n(0,O)}]}class ar extends re{constructor(e){super(),oe(this,e,sr,ir,s,{},[-1,-1])}}function cr(t){let n,o,r,i,s,a,c,l,u,p,f,g,w=_t("logged_in_as")+"";return{c(){n=v("small"),o=y(w),r=b(),i=y(t[0]),s=y(" in "),a=v("a"),c=y(t[2]),u=y(". "),p=v("a"),p.textContent="Ausloggen",$(a,"href",l="https://"+t[2]),$(a,"target","_blank"),$(a,"class","svelte-a2gk4x"),$(p,"href","#"),$(p,"class","svelte-a2gk4x"),$(n,"class","svelte-a2gk4x"),_(n,"no-modal",!t[1])},m(e,l){h(e,n,l),d(n,o),d(n,r),d(n,i),d(n,s),d(n,a),d(a,c),d(n,u),d(n,p),f||(g=x(p,"click",t[3]),f=!0)},p(e,[t]){1&t&&k(i,e[0]),4&t&&k(c,e[2]),4&t&&l!==(l="https://"+e[2])&&$(a,"href",l),2&t&&_(n,"no-modal",!e[1])},i:e,o:e,d(e){e&&m(n),f=!1,g()}}}function lr(e,t,n){let o,r;l(e,ot,(e=>n(1,o=e))),l(e,Ze,(e=>n(2,r=e)));const i=new ut;let s="";(async()=>{i.get("/users/current").then((e=>{n(0,s=e.user.displayName)}))})();const a=D();return[s,o,r,()=>{a("logout")}]}class ur extends re{constructor(e){super(),oe(this,e,lr,cr,s,{})}}function pr(e){let t,n;return t=new At({}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function fr(e){let t,n;return t=new Yo({props:{$$slots:{default:[dr]},$$scope:{ctx:e}}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,n){const o={};1026&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function dr(e){let t;return{c(){t=y(e[1])},m(e,n){h(e,t,n)},p(e,n){2&n&&k(t,e[1])},d(e){e&&m(t)}}}function hr(e){let t,n;return t=new Yo({props:{success:!0,$$slots:{default:[mr]},$$scope:{ctx:e}}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,n){const o={};1028&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function mr(e){let t;return{c(){t=y(e[2])},m(e,n){h(e,t,n)},p(e,n){4&n&&k(t,e[2])},d(e){e&&m(t)}}}function gr(e){let t,n,o,r,i=e[0]&&pr(),s=e[1]&&fr(e),a=e[2]&&hr(e);return{c(){t=v("div"),i&&i.c(),n=b(),s&&s.c(),o=b(),a&&a.c(),$(t,"class","upload svelte-74nv7x"),_(t,"no-modal",!e[3])},m(e,c){h(e,t,c),i&&i.m(t,null),d(t,n),s&&s.m(t,null),d(t,o),a&&a.m(t,null),r=!0},p(e,[r]){e[0]?i?1&r&&X(i,1):(i=pr(),i.c(),X(i,1),i.m(t,n)):i&&(J(),G(i,1,1,(()=>{i=null})),K()),e[1]?s?(s.p(e,r),2&r&&X(s,1)):(s=fr(e),s.c(),X(s,1),s.m(t,o)):s&&(J(),G(s,1,1,(()=>{s=null})),K()),e[2]?a?(a.p(e,r),4&r&&X(a,1)):(a=hr(e),a.c(),X(a,1),a.m(t,null)):a&&(J(),G(a,1,1,(()=>{a=null})),K()),8&r&&_(t,"no-modal",!e[3])},i(e){r||(X(i),X(s),X(a),r=!0)},o(e){G(i),G(s),G(a),r=!1},d(e){e&&m(t),i&&i.d(),s&&s.d(),a&&a.d()}}}function vr(e,t,n){let o,r,i;l(e,Ze,(e=>n(5,o=e))),l(e,nt,(e=>n(6,r=e))),l(e,ot,(e=>n(3,i=e)));const s=new ut;let a=!1,{config:c={}}=t,u="",p="";const f=D(),d=async()=>{if(a)return!1;n(0,a=!0);try{n(1,u=""),n(2,p="");let e=null,t=[];const i="wss://"+o.replace(/^(http|https):\/\//,"")+"/gobackend/ws?accessToken="+r,l=new WebSocket(i),d=n=>(l.close(),e=null,t=[],f("uploaded",n),n);l.onmessage=n=>{try{n.data.split("\n").forEach((n=>{let o=JSON.parse(n);if("finishedJob"===o.type&&(t.push(o),e&&o.jobID===e)){const e={success:!0,id:o.jobData.fileID,isDuplicate:o.jobData.isDuplicate||!1};d(e)}}))}catch(e){}};const h=new FormData;h.set("asynchronousConversion",!0),Object.keys(c).forEach((e=>{"file"!==e?h.set(e,JSON.stringify(c[e])):h.set(e,c[e])}));const m=await s.post("/files",h,!0,null,!1,!1);if(n(0,a=!1),m.success&&m.isDuplicate?(n(1,u=_t("duplicate_file")),f("error",_t("duplicate_file"))):n(2,p=_t("success_upload_file")),m.jobID){e=m.jobID;const n=t.find((t=>t.jobID===e));if(n){const e={success:!0,id:n.jobData.fileID,isDuplicate:n.jobData.isDuplicate||!1};d(e)}}if(!m.success)return f("uploaded",m),m}catch(e){n(0,a=!1),n(1,u=e),console.error(e),f("error",e)}return!1};return j((async()=>{await d()})),e.$$set=e=>{"config"in e&&n(4,c=e.config)},e.$$.update=()=>{16&e.$$.dirty&&d()},[a,u,p,i,c]}class yr extends re{constructor(e){super(),oe(this,e,vr,gr,s,{config:4})}}function br(e){let t,n,o,r,i,s,a,c,l,u,p,f,g,y=!e[4]&&wr(),w=e[5]&&"get"==e[6]&&xr(e);const k=[Or,kr,$r],O=[];function E(e,t){return e[5]?"get"==e[6]?1:"upload"==e[6]?2:-1:0}~(c=E(e))&&(l=O[c]=k[c](e));let T=e[5]&&!e[4]&&Er(e);return{c(){t=v("main"),n=v("div"),o=v("header"),y&&y.c(),r=b(),w&&w.c(),i=b(),s=v("a"),a=b(),l&&l.c(),u=b(),T&&T.c(),$(s,"href","#"),$(s,"class","close svelte-6ibcny"),$(o,"class","svelte-6ibcny"),$(n,"class","container svelte-6ibcny"),_(n,"container--enlarge",e[5]),$(t,"class","svelte-6ibcny"),_(t,"no-modal",!e[3]),_(t,"compact",e[4])},m(l,m){h(l,t,m),d(t,n),d(n,o),y&&y.m(o,null),d(o,r),w&&w.m(o,null),d(o,i),d(o,s),d(n,a),~c&&O[c].m(n,null),d(n,u),T&&T.m(n,null),p=!0,f||(g=x(s,"click",e[9]),f=!0)},p(e,s){e[4]?y&&(J(),G(y,1,1,(()=>{y=null})),K()):y?16&s&&X(y,1):(y=wr(),y.c(),X(y,1),y.m(o,r)),e[5]&&"get"==e[6]?w?(w.p(e,s),96&s&&X(w,1)):(w=xr(e),w.c(),X(w,1),w.m(o,i)):w&&(J(),G(w,1,1,(()=>{w=null})),K());let a=c;c=E(e),c===a?~c&&O[c].p(e,s):(l&&(J(),G(O[a],1,1,(()=>{O[a]=null})),K()),~c?(l=O[c],l?l.p(e,s):(l=O[c]=k[c](e),l.c()),X(l,1),l.m(n,u)):l=null),e[5]&&!e[4]?T?(T.p(e,s),48&s&&X(T,1)):(T=Er(e),T.c(),X(T,1),T.m(n,null)):T&&(J(),G(T,1,1,(()=>{T=null})),K()),32&s&&_(n,"container--enlarge",e[5]),8&s&&_(t,"no-modal",!e[3]),16&s&&_(t,"compact",e[4])},i(e){p||(X(y),X(w),X(l),X(T),p=!0)},o(e){G(y),G(w),G(l),G(T),p=!1},d(e){e&&m(t),y&&y.d(),w&&w.d(),~c&&O[c].d(),T&&T.d(),f=!1,g()}}}function wr(e){let t,n;return t=new ft({}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function xr(e){let t,n,o;function r(t){e[13](t)}let i={};return void 0!==e[1]&&(i.value=e[1]),t=new Tt({props:i}),L.push((()=>Q(t,"value",r))),{c(){Z(t.$$.fragment)},m(e,n){ee(t,e,n),o=!0},p(e,o){const r={};!n&&2&o&&(n=!0,r.value=e[1],U((()=>n=!1))),t.$set(r)},i(e){o||(X(t.$$.fragment,e),o=!0)},o(e){G(t.$$.fragment,e),o=!1},d(e){te(t,e)}}}function $r(e){let t,n,o,r;function i(t){e[14](t)}let s={};return void 0!==e[0]&&(s.config=e[0]),n=new yr({props:s}),L.push((()=>Q(n,"config",i))),n.$on("uploaded",e[11]),n.$on("error",e[12]),{c(){t=v("section"),Z(n.$$.fragment)},m(e,o){h(e,t,o),ee(n,t,null),r=!0},p(e,t){const r={};!o&&1&t&&(o=!0,r.config=e[0],U((()=>o=!1))),n.$set(r)},i(e){r||(X(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){e&&m(t),te(n)}}}function kr(t){let n,o,r;return o=new ar({}),o.$on("cancel",t[9]),o.$on("submit",t[10]),{c(){n=v("section"),Z(o.$$.fragment),$(n,"class","pixxioSectionFiles")},m(e,t){h(e,n,t),ee(o,n,null),r=!0},p:e,i(e){r||(X(o.$$.fragment,e),r=!0)},o(e){G(o.$$.fragment,e),r=!1},d(e){e&&m(n),te(o)}}}function Or(t){let n,o,r;return o=new Ft({}),o.$on("cancel",t[9]),o.$on("authenticated",t[7]),{c(){n=v("section"),Z(o.$$.fragment),$(n,"class","pixxioSectionLogin")},m(e,t){h(e,n,t),ee(o,n,null),r=!0},p:e,i(e){r||(X(o.$$.fragment,e),r=!0)},o(e){G(o.$$.fragment,e),r=!1},d(e){e&&m(n),te(o)}}}function Er(t){let n,o;return n=new ur({}),n.$on("logout",t[8]),{c(){Z(n.$$.fragment)},m(e,t){ee(n,e,t),o=!0},p:e,i(e){o||(X(n.$$.fragment,e),o=!0)},o(e){G(n.$$.fragment,e),o=!1},d(e){te(n,e)}}}function Tr(e){let t,n,o,r,i,s=e[2]&&br(e);return{c(){s&&s.c(),t=b(),n=v("link"),o=v("link"),r=v("style"),r.textContent='/* Global CSS via SASS */\n#pixxio-integration {\n  font-family: "Heebo", Arial, Helvetica, sans-serif;\n  font-size: 16px;\n  all: initial;\n}',$(n,"rel","preconnect"),$(n,"href","https://fonts.gstatic.com"),$(n,"crossorigin",""),$(o,"href","https://fonts.googleapis.com/css2?family=Heebo:wght@400;700&family=Work+Sans:wght@400;500&display=swap"),$(o,"rel","stylesheet"),$(r,"lang","scss")},m(e,a){s&&s.m(e,a),h(e,t,a),d(document.head,n),d(document.head,o),d(document.head,r),i=!0},p(e,[n]){e[2]?s?(s.p(e,n),4&n&&X(s,1)):(s=br(e),s.c(),X(s,1),s.m(t.parentNode,t)):s&&(J(),G(s,1,1,(()=>{s=null})),K())},i(e){i||(X(s),i=!0)},o(e){G(s),i=!1},d(e){s&&s.d(e),e&&m(t),m(n),m(o),m(r)}}}function _r(e,t,n){let o,r,i,s,a;l(e,st,(e=>n(2,o=e))),l(e,ot,(e=>n(3,r=e))),l(e,lt,(e=>n(4,i=e))),l(e,it,(e=>n(5,s=e))),l(e,at,(e=>n(6,a=e)));let{uploadConfig:c={}}=t;const u=D();let p="";return e.$$set=e=>{"uploadConfig"in e&&n(0,c=e.uploadConfig)},[c,p,o,r,i,s,a,()=>{it.update((()=>!0))},()=>{localStorage.removeItem("refreshToken"),localStorage.removeItem("domain"),it.update((()=>!1)),Ze.update((()=>"")),tt.update((()=>""))},()=>{u("cancel")},({detail:e})=>{u("submit",e)},({detail:e})=>{u("uploaded",e)},({detail:e})=>{u("uploadError",e)},function(e){p=e,n(1,p)},function(e){c=e,n(0,c)}]}class Sr extends re{constructor(e){super(),oe(this,e,_r,Tr,s,{uploadConfig:0})}}class Ar{constructor(e={},t="en"){this.config=e,this.runningPromise,this.boot(),this.storeConfig(e),this.app=new Sr({target:this.element,props:{standalone:!0,config:e}})}storeConfig(e){rt.update((()=>e?.language||"en")),Ze.update((()=>e?.appUrl||"")),et.update((()=>e?.appKey||"")),ot.update((()=>e?.modal)),ct.update((()=>!!e?.askForProxy)),lt.update((()=>e?.compact||!1))}boot(){if(this.config.element)this.element=this.config.element;else{const e=document.createElement("div");e.id="pixxio-integration",document.body.appendChild(e),this.element=e}}destroy(){st.update((()=>!1)),this.element.parentNode.removeChild(this.element)}destroyMedia(){st.update((()=>!1))}getMedia(e){gt.update((()=>e?.allowTypes||[])),vt.update((()=>e?.allowFormats||null)),bt.update((()=>e?.max>0&&e?.max||0)),wt.update((()=>e?.additionalResponseFields||[])),xt.update((()=>e?.showFileName)),$t.update((()=>e?.showFileType)),kt.update((()=>e?.showFileSize));const t=Date.now();return yt.update((()=>t)),at.update((()=>"get")),new Promise(((e,n)=>{st.update((()=>!0)),this.app.$on("submit",(t=>{st.update((()=>!1)),e(t.detail)})),this.app.$on("cancel",(()=>{st.update((()=>!1)),n()})),yt.subscribe((e=>{t!==e&&n()}))}))}on(e,t){switch(e){case"authState":it.subscribe((e=>{t&&"function"==typeof t&&t({login:e})}));break;default:console.error("Error: Event does not extist")}}pushMedia(e){const t=Date.now();return yt.update((()=>t)),at.update((()=>"upload")),new Promise(((t,n)=>{st.update((()=>!0)),this.app.$set({uploadConfig:e}),this.app.$on("uploaded",(e=>{t(e.detail)})),this.app.$on("uploadError",(()=>{n()})),this.app.$on("cancel",(()=>{st.update((()=>!1)),n()}))}))}bulkMainVersionCheck(e){const t=new ut,n=c(it);return new Promise((async(o,r)=>{if(n)try{const n=200,r=[];for(let t=0;t<e.length;t++){const o=Math.floor(t/n);r[o]||(r[o]=[]),r[o].push(e[t])}Promise.all(r.map((async e=>{const n={ids:e,responseFields:["id","isMainVersion","mainVersion","mainVersionOriginalFileURL","mainVersionFileName","mainVersionFileSize"]},o=await t.get("/files/existence",n);if(!o.success)throw new Error(o.errormessage);return o}))).then((e=>{let t=[];e.forEach((e=>{t=[...t,...e.files]})),o(t)}))}catch(e){console.log(e),r(e)}else r()}))}forceLogout=()=>{localStorage.removeItem("refreshToken"),localStorage.removeItem("domain"),localStorage.removeItem("proxy"),it.update((()=>!1)),Ze.update((()=>"")),tt.update((()=>""))};getProxyConfiguration(){const e=localStorage.getItem("proxy");return e?JSON.parse(e):null}getFileById(e,t){const n=new ut,o=c(it);return new Promise((async(r,i)=>{if(o)try{const o={responseFields:["id","originalFileURL","width","height","fileName","fileExtension","uploadDate","modifyDate","rating","userID","fileSize","dominantColor","versions"],...t||{}},i=await n.get(`/files/${e}`,o);if(!i.success)throw new Error(i.errormessage);r(i)}catch(e){console.log(e),i(e)}else i()}))}}"undefined"!=typeof window&&(window.PIXXIO=Ar);export default Ar;
