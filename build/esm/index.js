function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function o(){return Object.create(null)}function r(e){e.forEach(n)}function i(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function c(e){let t;return a(e,(e=>t=e))(),t}function l(e,t,n){e.$$.on_destroy.push(a(t,n))}function u(e,n,o,r){return e[1]&&r?t(o.ctx.slice(),e[1](r(n))):o.ctx}function p(e,t,n,o,r,i,s){const a=function(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|r[o];return e}return t.dirty|r}return t.dirty}(t,o,r,i);if(a){const r=u(t,n,o,s);e.p(r,a)}}function f(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function d(e,t,n=t){return e.set(n),t}function h(e,t){e.appendChild(t)}function m(e,t,n){e.insertBefore(t,n||null)}function g(e){e.parentNode.removeChild(e)}function v(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function b(e){return document.createTextNode(e)}function w(){return b(" ")}function x(){return b("")}function $(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function k(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function O(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function E(e,t){e.value=null==t?"":t}function T(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function _(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}}function S(e,t,n){e.classList[n?"add":"remove"](t)}let A;function C(e){A=e}function j(){if(!A)throw new Error("Function called outside component initialization");return A}function D(e){j().$$.on_mount.push(e)}function P(){const e=j();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);o.slice().forEach((t=>{t.call(e,r)}))}}}const L=[],N=[],z=[],R=[],F=Promise.resolve();let M=!1;function U(e){z.push(e)}function B(e){R.push(e)}let I=!1;const H=new Set;function q(){if(!I){I=!0;do{for(let e=0;e<L.length;e+=1){const t=L[e];C(t),V(t.$$)}for(C(null),L.length=0;N.length;)N.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];H.has(t)||(H.add(t),t())}z.length=0}while(L.length);for(;R.length;)R.pop()();M=!1,I=!1,H.clear()}}function V(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(U)}}const W=new Set;let J;function K(){J={r:0,c:[],p:J}}function X(){J.r||r(J.c),J=J.p}function G(e,t){e&&e.i&&(W.delete(e),e.i(t))}function Y(e,t,n,o){if(e&&e.o){if(W.has(e))return;W.add(e),J.c.push((()=>{W.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function Q(e,t){const n=t.token={};function o(e,o,r,i){if(t.token!==n)return;t.resolved=i;let s=t.ctx;void 0!==r&&(s=s.slice(),s[r]=i);const a=e&&(t.current=e)(s);let c=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==o&&e&&(K(),Y(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),X())})):t.block.d(1),a.c(),G(a,1),a.m(t.mount(),t.anchor),c=!0),t.block=a,t.blocks&&(t.blocks[o]=a),c&&q()}if((r=e)&&"object"==typeof r&&"function"==typeof r.then){const n=j();if(e.then((e=>{C(n),o(t.then,1,t.value,e),C(null)}),(e=>{if(C(n),o(t.catch,2,t.error,e),C(null),!t.hasCatch)throw e})),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}var r}function Z(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function ee(e){e&&e.c()}function te(e,t,o,s){const{fragment:a,on_mount:c,on_destroy:l,after_update:u}=e.$$;a&&a.m(t,o),s||U((()=>{const t=c.map(n).filter(i);l?l.push(...t):r(t),e.$$.on_mount=[]})),u.forEach(U)}function ne(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function oe(e,t){-1===e.$$.dirty[0]&&(L.push(e),M||(M=!0,F.then(q)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function re(t,n,i,s,a,c,l=[-1]){const u=A;C(t);const p=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:l,skip_bound:!1};let f=!1;if(p.ctx=i?i(t,n.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&a(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),f&&oe(t,e)),n})):[],p.update(),f=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(g)}else p.fragment&&p.fragment.c();n.intro&&G(t.$$.fragment),te(t,n.target,n.anchor,n.customElement),q()}C(u)}class ie{$destroy(){ne(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const se=[];function ae(t,n=e){let o;const r=[];function i(e){if(s(t,e)&&(t=e,o)){const e=!se.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),se.push(n,t)}if(e){for(let e=0;e<se.length;e+=2)se[e][0](se[e+1]);se.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(s,a=e){const c=[s,a];return r.push(c),1===r.length&&(o=n(i)||e),s(t),()=>{const e=r.indexOf(c);-1!==e&&r.splice(e,1),0===r.length&&(o(),o=null)}}}}var ce=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}},le=Object.prototype.toString;function ue(e){return"[object Array]"===le.call(e)}function pe(e){return void 0===e}function fe(e){return null!==e&&"object"==typeof e}function de(e){if("[object Object]"!==le.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function he(e){return"[object Function]"===le.call(e)}function me(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),ue(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var ge={isArray:ue,isArrayBuffer:function(e){return"[object ArrayBuffer]"===le.call(e)},isBuffer:function(e){return null!==e&&!pe(e)&&null!==e.constructor&&!pe(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:fe,isPlainObject:de,isUndefined:pe,isDate:function(e){return"[object Date]"===le.call(e)},isFile:function(e){return"[object File]"===le.call(e)},isBlob:function(e){return"[object Blob]"===le.call(e)},isFunction:he,isStream:function(e){return fe(e)&&he(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:me,merge:function e(){var t={};function n(n,o){de(t[o])&&de(n)?t[o]=e(t[o],n):de(n)?t[o]=e({},n):ue(n)?t[o]=n.slice():t[o]=n}for(var o=0,r=arguments.length;o<r;o++)me(arguments[o],n);return t},extend:function(e,t,n){return me(t,(function(t,o){e[o]=n&&"function"==typeof t?ce(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}};function ve(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ye=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(ge.isURLSearchParams(t))o=t.toString();else{var r=[];ge.forEach(t,(function(e,t){null!=e&&(ge.isArray(e)?t+="[]":e=[e],ge.forEach(e,(function(e){ge.isDate(e)?e=e.toISOString():ge.isObject(e)&&(e=JSON.stringify(e)),r.push(ve(t)+"="+ve(e))})))})),o=r.join("&")}if(o){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e};function be(){this.handlers=[]}be.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},be.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},be.prototype.forEach=function(e){ge.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var we=be,xe=function(e,t){ge.forEach(e,(function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])}))},$e=function(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},ke=function(e,t,n,o,r){var i=new Error(e);return $e(i,t,n,o,r)},Oe=ge.isStandardBrowserEnv()?{write:function(e,t,n,o,r,i){var s=[];s.push(e+"="+encodeURIComponent(t)),ge.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ge.isString(o)&&s.push("path="+o),ge.isString(r)&&s.push("domain="+r),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Ee=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Te=ge.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=ge.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function _e(e){this.message=e}_e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},_e.prototype.__CANCEL__=!0;var Se=_e,Ae=function(e){return new Promise((function(t,n){var o,r=e.data,i=e.headers,s=e.responseType;function a(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}ge.isFormData(r)&&delete i["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.Authorization="Basic "+btoa(l+":"+u)}var p,f,d=(p=e.baseURL,f=e.url,p&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(f)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(p,f):f);function h(){if(c){var o,r,i,l,u,p="getAllResponseHeaders"in c?(o=c.getAllResponseHeaders(),u={},o?(ge.forEach(o.split("\n"),(function(e){if(l=e.indexOf(":"),r=ge.trim(e.substr(0,l)).toLowerCase(),i=ge.trim(e.substr(l+1)),r){if(u[r]&&Ee.indexOf(r)>=0)return;u[r]="set-cookie"===r?(u[r]?u[r]:[]).concat([i]):u[r]?u[r]+", "+i:i}})),u):u):null;!function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(ke("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}((function(e){t(e),a()}),(function(e){n(e),a()}),{data:s&&"text"!==s&&"json"!==s?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:p,config:e,request:c}),c=null}}if(c.open(e.method.toUpperCase(),ye(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(h)},c.onabort=function(){c&&(n(ke("Request aborted",e,"ECONNABORTED",c)),c=null)},c.onerror=function(){n(ke("Network Error",e,null,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",o=e.transitional||Le.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(ke(t,e,o.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},ge.isStandardBrowserEnv()){var m=(e.withCredentials||Te(d))&&e.xsrfCookieName?Oe.read(e.xsrfCookieName):void 0;m&&(i[e.xsrfHeaderName]=m)}"setRequestHeader"in c&&ge.forEach(i,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete i[t]:c.setRequestHeader(t,e)})),ge.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&"json"!==s&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(o=function(e){c&&(n(!e||e&&e.type?new Se("canceled"):e),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o))),r||(r=null),c.send(r)}))},Ce={"Content-Type":"application/x-www-form-urlencoded"};function je(e,t){!ge.isUndefined(e)&&ge.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var De,Pe={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(De=Ae),De),transformRequest:[function(e,t){return xe(t,"Accept"),xe(t,"Content-Type"),ge.isFormData(e)||ge.isArrayBuffer(e)||ge.isBuffer(e)||ge.isStream(e)||ge.isFile(e)||ge.isBlob(e)?e:ge.isArrayBufferView(e)?e.buffer:ge.isURLSearchParams(e)?(je(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):ge.isObject(e)||t&&"application/json"===t["Content-Type"]?(je(t,"application/json"),function(e,t,n){if(ge.isString(e))try{return(t||JSON.parse)(e),ge.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Pe.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,r=!n&&"json"===this.responseType;if(r||o&&ge.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw $e(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ge.forEach(["delete","get","head"],(function(e){Pe.headers[e]={}})),ge.forEach(["post","put","patch"],(function(e){Pe.headers[e]=ge.merge(Ce)}));var Le=Pe,Ne=function(e,t,n){var o=this||Le;return ge.forEach(n,(function(n){e=n.call(o,e,t)})),e},ze=function(e){return!(!e||!e.__CANCEL__)};function Re(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Se("canceled")}var Fe=function(e){return Re(e),e.headers=e.headers||{},e.data=Ne.call(e,e.data,e.headers,e.transformRequest),e.headers=ge.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),ge.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Le.adapter)(e).then((function(t){return Re(e),t.data=Ne.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return ze(t)||(Re(e),t&&t.response&&(t.response.data=Ne.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Me=function(e,t){t=t||{};var n={};function o(e,t){return ge.isPlainObject(e)&&ge.isPlainObject(t)?ge.merge(e,t):ge.isPlainObject(t)?ge.merge({},t):ge.isArray(t)?t.slice():t}function r(n){return ge.isUndefined(t[n])?ge.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function i(e){if(!ge.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return ge.isUndefined(t[n])?ge.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function a(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a};return ge.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||r,o=t(e);ge.isUndefined(o)&&t!==a||(n[e]=o)})),n},Ue="0.24.0",Be=Ue,Ie={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Ie[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var He={};Ie.transitional=function(e,t,n){function o(e,t){return"[Axios v"+Be+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,i){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!He[r]&&(He[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,i)}};var qe={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var o=Object.keys(e),r=o.length;r-- >0;){var i=o[r],s=t[i];if(s){var a=e[i],c=void 0===a||s(a,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:Ie},Ve=qe.validators;function We(e){this.defaults=e,this.interceptors={request:new we,response:new we}}We.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Me(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&qe.assertOptions(t,{silentJSONParsing:Ve.transitional(Ve.boolean),forcedJSONParsing:Ve.transitional(Ve.boolean),clarifyTimeoutError:Ve.transitional(Ve.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var r,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!o){var s=[Fe,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(i),r=Promise.resolve(e);s.length;)r=r.then(s.shift(),s.shift());return r}for(var a=e;n.length;){var c=n.shift(),l=n.shift();try{a=c(a)}catch(e){l(e);break}}try{r=Fe(a)}catch(e){return Promise.reject(e)}for(;i.length;)r=r.then(i.shift(),i.shift());return r},We.prototype.getUri=function(e){return e=Me(this.defaults,e),ye(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},ge.forEach(["delete","get","head","options"],(function(e){We.prototype[e]=function(t,n){return this.request(Me(n||{},{method:e,url:t,data:(n||{}).data}))}})),ge.forEach(["post","put","patch"],(function(e){We.prototype[e]=function(t,n,o){return this.request(Me(o||{},{method:e,url:t,data:n}))}}));var Je=We;function Ke(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,o=n._listeners.length;for(t=0;t<o;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,o=new Promise((function(e){n.subscribe(e),t=e})).then(e);return o.cancel=function(){n.unsubscribe(t)},o},e((function(e){n.reason||(n.reason=new Se(e),t(n.reason))}))}Ke.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Ke.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},Ke.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},Ke.source=function(){var e;return{token:new Ke((function(t){e=t})),cancel:e}};var Xe=Ke;var Ge=function e(t){var n=new Je(t),o=ce(Je.prototype.request,n);return ge.extend(o,Je.prototype,n),ge.extend(o,n),o.create=function(n){return e(Me(t,n))},o}(Le);Ge.Axios=Je,Ge.Cancel=Se,Ge.CancelToken=Xe,Ge.isCancel=ze,Ge.VERSION=Ue,Ge.all=function(e){return Promise.all(e)},Ge.spread=function(e){return function(t){return e.apply(null,t)}},Ge.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError};var Ye=Ge,Qe=Ge;Ye.default=Qe;var Ze=Ye;const et=ae(""),tt=ae(""),nt=ae(""),ot=ae(""),rt=ae(!0),it=ae("en"),st=ae(!1),at=ae(!1),ct=ae("get"),lt=ae(!1),ut=ae(!1),pt=ae(null);class ft{accessToken="";refreshToken="";domain="";appKey="";proxyConfig={};constructor(){et.subscribe((e=>this.domain=e)),tt.subscribe((e=>this.appKey=e)),nt.subscribe((e=>this.refreshToken=e)),ot.subscribe((e=>this.accessToken=e))}get(e,t={},n=!0,o=null,r=!0,i=!0){return this.call("get",e,t,n,o,r,i)}post(e,t={},n=!0,o=null,r=!0,i=!0){return this.call("post",e,t,n,o,r,i)}put(e,t={},n=!0,o=null,r=!0,i=!0){return this.call("put",e,t,n,o,r,i)}delete(e,t={},n=!0,o=null,r=!0,i=!0){return this.call("delete",e,t,n,o,r,i)}callAccessToken(){return new Promise(((e,t)=>{let n={refreshToken:this.refreshToken,applicationKey:this.appKey};this.post("/accessToken",n,!1).then((n=>{n.success?(this.accessToken=n.accessToken,ot.update((()=>n.accessToken)),e(n)):t(n)})).catch(t)}))}call(e,t,n={},o=!0,r=null,i=!0,s=!0){return this.proxyConfig=JSON.parse(localStorage.getItem("proxy")),new Promise(((a,c)=>{const l=(l,u)=>{const p="https://"+this.domain.replace(/(http|https):\/\//,"")+"/gobackend"+t;let f=l;if(s){f=new URLSearchParams;for(const e of Object.keys(l)){let t=l[e];"object"==typeof t&&(t=JSON.stringify(t)),f.set(e,t)}f=f.toString()}u||(u={}),i&&(u["Content-Type"]="application/x-www-form-urlencoded"),r&&(u={...u,...r});let d={url:p,request:{method:"post",headers:u,data:f}};switch(e){case"get":d={url:p+"?"+f,request:{headers:u}};break;case"put":d={url:p,request:{method:"put",headers:u,data:f}};break;case"delete":d={url:p,request:{method:"delete",headers:u,data:f}}}Ze({url:d.url,proxy:this.proxyConfig,...d.request}).then((({data:l})=>{if(!0===l.success||"true"===l.success)a(l);else switch(l.errorcode){case 15007:case 15008:this.callAccessToken().then((()=>{this.call(e,t,n,o,r,i,s).subscribe((e=>{a(e)}))}));break;case 5266:default:c(l.errormessage)}})).catch((e=>c()))};if(o){let e={};e={Authorization:"Key "+this.accessToken},l(n,e)}else l(n)}))}}function dt(t){let n;return{c(){n=y("div"),n.innerHTML='<div class="header__logo svelte-bfa57z"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 25.78" class="svelte-bfa57z"><path d="M41.34 6.14a5.72 5.72 0 00-3.37-.97 5.54 5.54 0 00-3.33.97 4.9 4.9 0 00-1.07 1 1.58 1.58 0 00-1.58-1.59h-.18a.3.3 0 00-.3.31V24a.3.3 0 00.3.31h.42a1.61 1.61 0 001.61-1.61v-4.37a5.18 5.18 0 00.8.72 5.56 5.56 0 003.33 1 5.72 5.72 0 003.37-.96 6.59 6.59 0 002.17-2.65 8.96 8.96 0 00.76-3.79 8.85 8.85 0 00-.76-3.78 6.37 6.37 0 00-2.17-2.72zm0 9.15a4.11 4.11 0 01-1.37 1.89 3.6 3.6 0 01-2.3.69 3.63 3.63 0 01-3.69-2.58 8.39 8.39 0 01-.44-2.75 7.57 7.57 0 01.44-2.76 4.2 4.2 0 011.34-1.85 3.63 3.63 0 012.28-.66 3.96 3.96 0 012.37.69 4.3 4.3 0 011.38 1.9 7.32 7.32 0 01.44 2.68 7.45 7.45 0 01-.45 2.75z"></path><path d="M47.44 19.9h1.69a.3.3 0 00.31-.3V6.18a.3.3 0 00-.31-.3h-1.69a.3.3 0 00-.31.3V19.6a.3.3 0 00.31.3z"></path><path d="M81.31 15.38h1.7a.3.3 0 00.3-.31V6.26a.3.3 0 00-.3-.31h-1.7a.3.3 0 00-.3.31v8.8a.3.3 0 00.3.32z"></path><path d="M64.36 5.84h-1.97a.31.31 0 00-.27.14L58.4 11l-3.75-5.02a.44.44 0 00-.24-.14h-1.96a.31.31 0 00-.24.51l4.89 6.44-5 6.6a.32.32 0 00.25.52h1.96a.23.23 0 00.24-.14l3.85-5.2 3.86 5.23a.42.42 0 00.27.14h1.96a.31.31 0 00.24-.52l-4.99-6.6 4.89-6.44a.35.35 0 00-.27-.54z"></path><path d="M77.98 5.84h-1.96a.31.31 0 00-.28.14L72.03 11l-3.75-5.02a.44.44 0 00-.24-.14h-1.97a.31.31 0 00-.24.51l4.89 6.44-5.02 6.6a.32.32 0 00.24.52h1.96a.23.23 0 00.24-.14l3.85-5.2 3.86 5.2a.42.42 0 00.27.14h1.96a.31.31 0 00.24-.52l-4.99-6.6 4.89-6.44a.31.31 0 00-.24-.51z"></path><path d="M99.2 9.04a6.16 6.16 0 00-2.33-2.62 6.94 6.94 0 00-3.65-.96 6.68 6.68 0 00-3.58.93A6.26 6.26 0 0087.27 9a8.63 8.63 0 00-.83 3.9 8.58 8.58 0 00.83 3.84 6.4 6.4 0 002.34 2.62 7.37 7.37 0 007.22.03 6.16 6.16 0 002.34-2.61 8.63 8.63 0 00.83-3.89 8.05 8.05 0 00-.8-3.85zm-2.71 7.6a3.77 3.77 0 01-3.24 1.44 3.86 3.86 0 01-3.23-1.44 6.21 6.21 0 01-1.1-3.82 7.37 7.37 0 01.48-2.72 3.8 3.8 0 011.41-1.82 4.06 4.06 0 012.41-.66 3.84 3.84 0 013.23 1.41 6.1 6.1 0 011.07 3.79 5.92 5.92 0 01-1.03 3.82z"></path><path class="logoIcon svelte-bfa57z" d="M81.31 19.77h1.7a.3.3 0 00.3-.31v-1.68a.3.3 0 00-.3-.31h-1.7a.3.3 0 00-.3.3v1.7a.3.3 0 00.3.3z"></path><path class="logoIcon svelte-bfa57z" d="M13.18 25.78a13.48 13.48 0 01-6.75-1.82l-.68-.4v-3.4H2.27l-.41-.67A12.76 12.76 0 010 12.9 13.06 13.06 0 0113.18 0a13.06 13.06 0 0113.18 12.9 13.06 13.06 0 01-13.18 12.88zm-4.61-3.8a10.27 10.27 0 004.6 1.04A10.26 10.26 0 0023.54 12.9 10.23 10.23 0 0013.18 2.8 10.26 10.26 0 002.82 12.92a10.13 10.13 0 001.07 4.51h1.86v-4.5a7.37 7.37 0 017.43-7.28 7.37 7.37 0 017.43 7.27 7.37 7.37 0 01-7.43 7.27H8.57zm4.6-13.56a4.56 4.56 0 00-4.6 4.5v4.52h4.6a4.51 4.51 0 100-9.02z"></path></svg></div>',k(n,"class","header svelte-bfa57z")},m(e,t){m(e,n,t)},p:e,i:e,o:e,d(e){e&&g(n)}}}class ht extends ie{constructor(e){super(),re(this,e,null,dt,s,{})}}const mt=ae(!1),gt=ae(""),vt=ae("preview"),yt=ae([]),bt=ae(null),wt=ae(1),xt=ae(0),$t=ae([]),kt=ae(!1),Ot=ae(!1),Et=ae(!1);function Tt(t){let n,o,i,s,a,c,l;return{c(){n=y("div"),o=y("div"),i=y("input"),s=w(),a=y("label"),a.textContent="Search",k(i,"id","pixxio-search"),k(i,"type","text"),k(i,"placeholder"," "),k(i,"class","svelte-8a3fjp"),k(a,"for","pixxio-search"),k(a,"class","svelte-8a3fjp"),k(o,"class","field svelte-8a3fjp"),k(n,"class","searchField fields svelte-8a3fjp")},m(e,r){m(e,n,r),h(n,o),h(o,i),E(i,t[0]),h(o,s),h(o,a),c||(l=[$(i,"input",t[2]),$(i,"input",t[1])],c=!0)},p(e,[t]){1&t&&i.value!==e[0]&&E(i,e[0])},i:e,o:e,d(e){e&&g(n),c=!1,r(l)}}}function _t(e,t,n){let{value:o=""}=t,r=null;return e.$$set=e=>{"value"in e&&n(0,o=e.value)},[o,()=>{r&&clearTimeout(r),r=setTimeout((()=>{gt.update((()=>o))}),200)},function(){o=this.value,n(0,o)}]}class St extends ie{constructor(e){super(),re(this,e,_t,Tt,s,{value:0})}}function At(e){let t="en";it.subscribe((e=>t=e));return{de:{mediaspace:"Mediaspace (example.px.media)",username:"Username oder E-Mail",password:"Passwort",signin:"Anmelden",signin_description:"Bitte melde dich in dein pixxio System an um Dateien auszuwählen.",signin_error:"Ungültiger Benutzer oder Passwort",application_key_error:"Das Plugin ist nicht für deinen Mediaspace freigegeben. Kontaktiere deinen Administrator oder support@pixx.io für weitere Informationen.",cancel:"Abbrechen",select:"Auswählen",selected:"ausgewählt",please_select:"Format wählen",original:"Original",preview:"Vorschau",logged_in_as:"Du bist angemeldet als: ",logout:"Ausloggen",duplicate_file:"Duplikat: Die Datei existiert bereits.",success_upload_file:"Die Datei wurde erfolgreich hochgeladen.",advanced:"Erweiterte Einstellungen",proxy_connection_string:"Proxy Verbindung (http://127.0.0.1:8080)",proxy_protocol:"Proxy Protokoll",proxy_host:"Proxy Host",proxy_port:"Proxy Port",proxy_auth_username:"Username (optional)",proxy_auth_password:"Password (optional)"},en:{mediaspace:"Mediaspace (example.px.media)",username:"Username or email",password:"Password",signin:"Sign in",signin_description:"Please sign in to your pixxio system to select files.",signin_error:"Invalid username or password",application_key_error:"The plugin is locked for your mediaspace. Contact your administrator or support@pixx.io for more information.",cancel:"Cancel",select:"Select",selected:"selected",please_select:"Choose a format",original:"Original",preview:"Preview",logged_in_as:"You are logged in as: ",logout:"Logout",duplicate_file:"Duplicate file: The file already exists.",success_upload_file:"File successfully uploaded.",advanced:"Advanced settings",proxy_connection_string:"Proxy Connection (http://127.0.0.1:8080)",proxy_protocol:"Proxy Protocol",proxy_host:"Proxy Host",proxy_port:"Proxy Port",proxy_auth_username:"Username (optional)",proxy_auth_password:"Password (optional)"}}[t||"en"][e]}function Ct(t){let n;return{c(){n=y("div"),n.innerHTML='<div class="svelte-fhr97u"><svg xmlns="http://www.w3.org/2000/svg" id="pixxioIcon" viewBox="0 0 76.52 76.52" class="svelte-fhr97u"><path stroke="black" stroke-width="5" d="M24.76 50.76v-13c0-7.17 5.94-13 13.25-13s13.25 5.83 13.25 13c0 7.18-5.94 13-13.25 13H26.27l-11.17.38s-3.34-8.2-3.34-12.88a26.51 26.51 0 0126.5-26.5 26.51 26.51 0 0126.5 26.5 26.51 26.51 0 01-26.5 26.5c-4.85 0-9.58-1.3-13.5-3.6z" fill="none" class="svelte-fhr97u"></path></svg></div>',k(n,"id","pixxio-ta-loading"),k(n,"class","svelte-fhr97u")},m(e,t){m(e,n,t)},p:e,i:e,o:e,d(e){e&&g(n)}}}class jt extends ie{constructor(e){super(),re(this,e,null,Ct,s,{})}}function Dt(e){let t,n,o,i,s,a;return{c(){t=y("div"),n=y("input"),o=w(),i=y("label"),i.textContent=`${At("mediaspace")}`,k(n,"id","pixxio-mediaspace"),n.disabled=e[3],k(n,"type","text"),k(n,"placeholder"," "),k(n,"class","svelte-zok5rk"),k(i,"for","pixxio-mediaspace"),k(i,"class","svelte-zok5rk"),k(t,"class","field svelte-zok5rk")},m(r,c){m(r,t,c),h(t,n),E(n,e[4]),h(t,o),h(t,i),s||(a=[$(n,"input",e[13]),$(n,"keydown",e[12])],s=!0)},p(e,t){8&t&&(n.disabled=e[3]),16&t&&n.value!==e[4]&&E(n,e[4])},d(e){e&&g(t),s=!1,r(a)}}}function Pt(e){let t,n,o,r,i,s,a=e[6]&&Lt(e);return{c(){t=y("small"),n=y("a"),n.textContent=`${At("advanced")}`,o=w(),a&&a.c(),r=x(),k(n,"href","#"),k(n,"class","advanced svelte-zok5rk"),k(t,"class","svelte-zok5rk")},m(c,l){m(c,t,l),h(t,n),m(c,o,l),a&&a.m(c,l),m(c,r,l),i||(s=$(n,"click",e[16]),i=!0)},p(e,t){e[6]?a?a.p(e,t):(a=Lt(e),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(e){e&&g(t),e&&g(o),a&&a.d(e),e&&g(r),i=!1,s()}}}function Lt(e){let t,n,o,i,s,a,c,l,u,p,f,d,v,b,x,O,T,_,S,A;return{c(){t=y("br"),n=w(),o=y("br"),i=w(),s=y("div"),a=y("input"),c=w(),l=y("label"),l.textContent=`${At("proxy_connection_string")}`,u=w(),p=y("div"),f=y("input"),d=w(),v=y("label"),v.textContent=`${At("proxy_auth_username")}`,b=w(),x=y("div"),O=y("input"),T=w(),_=y("label"),_.textContent=`${At("proxy_auth_password")}`,k(a,"id","pixxio-host"),a.disabled=e[3],k(a,"type","text"),k(a,"placeholder"," "),k(a,"class","svelte-zok5rk"),k(l,"for","pixxio-host"),k(l,"class","svelte-zok5rk"),k(s,"class","field svelte-zok5rk"),k(f,"id","pixxio-auth-username"),f.disabled=e[3],k(f,"type","text"),k(f,"placeholder"," "),k(f,"class","svelte-zok5rk"),k(v,"for","pixxio-auth-username"),k(v,"class","svelte-zok5rk"),k(p,"class","field svelte-zok5rk"),k(O,"id","pixxio-auth-password"),O.disabled=e[3],k(O,"type","password"),k(O,"placeholder"," "),k(O,"class","svelte-zok5rk"),k(_,"for","pixxio-auth-password"),k(_,"class","svelte-zok5rk"),k(x,"class","field svelte-zok5rk")},m(r,g){m(r,t,g),m(r,n,g),m(r,o,g),m(r,i,g),m(r,s,g),h(s,a),E(a,e[7].connectionString),h(s,c),h(s,l),m(r,u,g),m(r,p,g),h(p,f),E(f,e[7].auth.username),h(p,d),h(p,v),m(r,b,g),m(r,x,g),h(x,O),E(O,e[7].auth.password),h(x,T),h(x,_),S||(A=[$(a,"input",e[17]),$(f,"input",e[18]),$(O,"input",e[19])],S=!0)},p(e,t){8&t&&(a.disabled=e[3]),128&t&&a.value!==e[7].connectionString&&E(a,e[7].connectionString),8&t&&(f.disabled=e[3]),128&t&&f.value!==e[7].auth.username&&E(f,e[7].auth.username),8&t&&(O.disabled=e[3]),128&t&&O.value!==e[7].auth.password&&E(O,e[7].auth.password)},d(e){e&&g(t),e&&g(n),e&&g(o),e&&g(i),e&&g(s),e&&g(u),e&&g(p),e&&g(b),e&&g(x),S=!1,r(A)}}}function Nt(t){let n;return{c(){n=y("small"),n.textContent=`${At("signin_error")}`,k(n,"class","error svelte-zok5rk")},m(e,t){m(e,n,t)},p:e,d(e){e&&g(n)}}}function zt(t){let n;return{c(){n=y("small"),n.textContent=`${At("application_key_error")}`,k(n,"class","error svelte-zok5rk")},m(e,t){m(e,n,t)},p:e,d(e){e&&g(n)}}}function Rt(e){let t,n;return t=new jt({}),{c(){ee(t.$$.fragment)},m(e,o){te(t,e,o),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){Y(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function Ft(e){let t,n,o,i,s,a,c,l,u,p,f,d,v,x,O,T,_,A,C,j,D,P,L,N,z,R,F=At("signin")+"",M=!e[8]&&Dt(e),U=e[10]&&Pt(e),B=e[2]&&!e[5]&&Nt(),I=e[2]&&e[5]&&zt(),H=e[3]&&Rt();return{c(){t=y("div"),n=y("h2"),n.textContent=`${At("signin")}`,o=w(),i=y("p"),i.textContent=`${At("signin_description")}`,s=w(),M&&M.c(),a=w(),c=y("div"),l=y("input"),u=w(),p=y("label"),p.textContent=`${At("username")}`,f=w(),d=y("div"),v=y("input"),x=w(),O=y("label"),O.textContent=`${At("password")}`,T=w(),U&&U.c(),_=w(),B&&B.c(),A=w(),I&&I.c(),C=w(),j=y("div"),D=y("button"),P=b(F),L=w(),H&&H.c(),k(n,"class","svelte-zok5rk"),k(i,"class","svelte-zok5rk"),k(l,"id","pixxio-username"),l.disabled=e[3],k(l,"type","text"),k(l,"placeholder"," "),k(l,"class","svelte-zok5rk"),k(p,"for","pixxio-username"),k(p,"class","svelte-zok5rk"),k(c,"class","field svelte-zok5rk"),k(v,"id","pixxio-password"),v.disabled=e[3],k(v,"type","password"),k(v,"placeholder"," "),k(v,"class","svelte-zok5rk"),k(O,"for","pixxio-password"),k(O,"class","svelte-zok5rk"),k(d,"class","field svelte-zok5rk"),k(D,"class","button svelte-zok5rk"),k(D,"type","submit"),D.disabled=e[3],k(j,"class","buttonGroup buttonGroup--fullSize svelte-zok5rk"),k(t,"class","login fields svelte-zok5rk"),S(t,"no-modal",!e[9])},m(r,g){m(r,t,g),h(t,n),h(t,o),h(t,i),h(t,s),M&&M.m(t,null),h(t,a),h(t,c),h(c,l),E(l,e[0]),h(c,u),h(c,p),h(t,f),h(t,d),h(d,v),E(v,e[1]),h(d,x),h(d,O),h(t,T),U&&U.m(t,null),h(t,_),B&&B.m(t,null),h(t,A),I&&I.m(t,null),h(t,C),h(t,j),h(j,D),h(D,P),h(t,L),H&&H.m(t,null),N=!0,z||(R=[$(l,"input",e[14]),$(l,"keydown",e[12]),$(v,"input",e[15]),$(v,"keydown",e[12]),$(D,"click",e[11])],z=!0)},p(e,[n]){e[8]?M&&(M.d(1),M=null):M?M.p(e,n):(M=Dt(e),M.c(),M.m(t,a)),(!N||8&n)&&(l.disabled=e[3]),1&n&&l.value!==e[0]&&E(l,e[0]),(!N||8&n)&&(v.disabled=e[3]),2&n&&v.value!==e[1]&&E(v,e[1]),e[10]?U?U.p(e,n):(U=Pt(e),U.c(),U.m(t,_)):U&&(U.d(1),U=null),e[2]&&!e[5]?B?B.p(e,n):(B=Nt(),B.c(),B.m(t,A)):B&&(B.d(1),B=null),e[2]&&e[5]?I?I.p(e,n):(I=zt(),I.c(),I.m(t,C)):I&&(I.d(1),I=null),(!N||8&n)&&(D.disabled=e[3]),e[3]?H?8&n&&G(H,1):(H=Rt(),H.c(),G(H,1),H.m(t,null)):H&&(K(),Y(H,1,1,(()=>{H=null})),X()),512&n&&S(t,"no-modal",!e[9])},i(e){N||(G(H),N=!0)},o(e){Y(H),N=!1},d(e){e&&g(t),M&&M.d(),U&&U.d(),B&&B.d(),I&&I.d(),H&&H.d(),z=!1,r(R)}}}function Mt(e,t,n){let o,r,i,s;l(e,et,(e=>n(8,o=e))),l(e,tt,(e=>n(20,r=e))),l(e,rt,(e=>n(9,i=e))),l(e,lt,(e=>n(10,s=e)));const a=P(),c=new ft;let u="",p="",f=!1,d=!1,h="",m=!1,g=!1,v={connectionString:"",auth:{username:"",password:""}};const y=localStorage.getItem("refreshToken");h=localStorage.getItem("domain"),h&&et.update((()=>h)),y&&(o||h)&&(d=!0,nt.update((()=>y)),c.callAccessToken().then((()=>{n(3,d=!1),a("authenticated")})).catch((e=>{nt.update((()=>"")),n(3,d=!1),n(5,m=15016===e.errorcode)})));const b=async()=>{try{n(3,d=!0),n(2,f=!1),n(4,h=h.replace(/(http|https):\/\//,"").trim());const e=new FormData;e.set("applicationKey",r),e.set("userNameOrEmail",u.trim()),e.set("password",p.trim());let t=null;if(v.connectionString){const e=v.connectionString.split(":");t={protocol:/^http/gi.test(e[0])?e[0]:"http",host:/^http/gi.test(e[0])?e[1].replace("//",""):e[0].replace("//",""),port:(/^http/gi.test(e[0])?e[2]:e[1])||"",auth:v.auth},localStorage.setItem("proxy",JSON.stringify(t))}const o=await Ze({url:`https://${h}/gobackend/login`,method:"POST",data:e});if(n(3,d=!1),!o.data.success)throw n(2,f=!0),o.data;nt.update((()=>o.data.refreshToken)),et.update((()=>h)),localStorage.setItem("domain",h),localStorage.setItem("refreshToken",o.data.refreshToken),c.callAccessToken().then((()=>{a("authenticated")}))}catch(e){n(3,d=!1),n(2,f=!0),console.log(e),n(5,m=15016===e.errorcode)}};return[u,p,f,d,h,m,g,v,o,i,s,b,e=>{"Enter"===e.key&&b()},function(){h=this.value,n(4,h)},function(){u=this.value,n(0,u)},function(){p=this.value,n(1,p)},()=>n(6,g=!g),function(){v.connectionString=this.value,n(7,v)},function(){v.auth.username=this.value,n(7,v)},function(){v.auth.password=this.value,n(7,v)}]}class Ut extends ie{constructor(e){super(),re(this,e,Mt,Ft,s,{})}}function Bt(e,t,n){const o=e.slice();return o[13]=t[n],o}function It(e){let t,n,o,i,s,a,c,l,u,p=e[3]&&Ht(),f=e[2]&&qt(),d=e[1],b=[];for(let t=0;t<d.length;t+=1)b[t]=Vt(Bt(e,d,t));return{c(){t=y("div"),n=y("div"),o=y("select"),p&&p.c(),i=x(),f&&f.c(),s=x();for(let e=0;e<b.length;e+=1)b[e].c();a=w(),c=y("label"),c.textContent=`${At("please_select")}`,k(o,"name",""),k(o,"id","pixxioDownloadFormats__dropdown"),k(o,"placeholder"," "),k(o,"class","svelte-m3x3tp"),void 0===e[0]&&U((()=>e[7].call(o))),k(c,"for","pixxioDownloadFormats__dropdown"),k(c,"class","svelte-m3x3tp"),k(n,"class","field svelte-m3x3tp"),k(t,"class","downloadFormats fields svelte-m3x3tp")},m(r,d){m(r,t,d),h(t,n),h(n,o),p&&p.m(o,null),h(o,i),f&&f.m(o,null),h(o,s);for(let e=0;e<b.length;e+=1)b[e].m(o,null);_(o,e[0]),h(n,a),h(n,c),l||(u=[$(o,"change",e[7]),$(o,"blur",e[5])],l=!0)},p(e,t){if(e[3]?p?p.p(e,t):(p=Ht(),p.c(),p.m(o,i)):p&&(p.d(1),p=null),e[2]?f?f.p(e,t):(f=qt(),f.c(),f.m(o,s)):f&&(f.d(1),f=null),2&t){let n;for(d=e[1],n=0;n<d.length;n+=1){const r=Bt(e,d,n);b[n]?b[n].p(r,t):(b[n]=Vt(r),b[n].c(),b[n].m(o,null))}for(;n<b.length;n+=1)b[n].d(1);b.length=d.length}3&t&&_(o,e[0])},d(e){e&&g(t),p&&p.d(),f&&f.d(),v(b,e),l=!1,r(u)}}}function Ht(t){let n;return{c(){n=y("option"),n.textContent=`${At("preview")}`,n.__value="preview",n.value=n.__value},m(e,t){m(e,n,t)},p:e,d(e){e&&g(n)}}}function qt(t){let n;return{c(){n=y("option"),n.textContent=`${At("original")}`,n.__value="original",n.value=n.__value},m(e,t){m(e,n,t)},p:e,d(e){e&&g(n)}}}function Vt(e){let t,n,o,r=e[13].name+"";return{c(){t=y("option"),n=b(r),t.__value=o=e[13].id,t.value=t.__value},m(e,o){m(e,t,o),h(t,n)},p(e,i){2&i&&r!==(r=e[13].name+"")&&O(n,r),2&i&&o!==(o=e[13].id)&&(t.__value=o,t.value=t.__value)},d(e){e&&g(t)}}}function Wt(t){let n,o=!t[4]&&It(t);return{c(){o&&o.c(),n=x()},m(e,t){o&&o.m(e,t),m(e,n,t)},p(e,[t]){e[4]?o&&(o.d(1),o=null):o?o.p(e,t):(o=It(e),o.c(),o.m(n.parentNode,n))},i:e,o:e,d(e){o&&o.d(e),e&&g(n)}}}function Jt(e,t,n){let o;l(e,bt,(e=>n(6,o=e)));const r=new ft;let i,s=[],a=!1,c=!1,u=!1,p=!0;D((()=>{f()}));const f=()=>{(o&&o.length?o.filter((e=>"original"!==e&&"preview"!==e)):[]).length?h():n(1,s=[]),o&&1===o.length&&n(0,i=o[0]),d()},d=()=>{vt.update((()=>i))},h=async()=>{try{a=!0;const e={responseFields:["id","name"]},t=await r.get("/downloadFormats",e);if(!t.success)throw new Error(t.errormessage);n(1,s=t.downloadFormats.filter((e=>null===bt||null!==o&&o.includes(e.id)))),a=!1}catch(e){a=!1}};return e.$$.update=()=>{64&e.$$.dirty&&(n(4,p=1===(o||[]).length),n(2,c=null===o||null!==o&&o.includes("original")),n(3,u=null===o||null!==o&&o.includes("preview")),f())},[i,s,c,u,p,d,o,function(){i=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,i),n(1,s)}]}class Kt extends ie{constructor(e){super(),re(this,e,Jt,Wt,s,{})}}function Xt(e,t,n){const o=e.slice();return o[3]=t[n],o}function Gt(e){let t,n,o,r,s,a,c;return{c(){t=y("li"),n=y("img"),s=w(),k(n,"loading","lazy"),n.src!==(o=e[3].imagePath||e[3].modifiedPreviewFileURLs[0])&&k(n,"src",o),k(n,"alt",r=e[3].fileName),k(n,"class","svelte-1y7flg5"),k(t,"class","pixxioSelection__file svelte-1y7flg5")},m(o,r){m(o,t,r),h(t,n),h(t,s),a||(c=$(t,"click",(function(){i(e[2]("deselect",e[3]))&&e[2]("deselect",e[3]).apply(this,arguments)})),a=!0)},p(t,i){e=t,2&i&&n.src!==(o=e[3].imagePath||e[3].modifiedPreviewFileURLs[0])&&k(n,"src",o),2&i&&r!==(r=e[3].fileName)&&k(n,"alt",r)},d(e){e&&g(t),a=!1,c()}}}function Yt(e){let t,n,o,r=e[0].length-e[1].length+"";return{c(){t=y("li"),n=b("+ "),o=b(r),k(t,"class","svelte-1y7flg5")},m(e,r){m(e,t,r),h(t,n),h(t,o)},p(e,t){3&t&&r!==(r=e[0].length-e[1].length+"")&&O(o,r)},d(e){e&&g(t)}}}function Qt(t){let n,o,r=mt&&function(e){let t,n=e[1],o=[];for(let t=0;t<n.length;t+=1)o[t]=Gt(Xt(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=x()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);m(e,t,n)},p(e,r){if(6&r){let i;for(n=e[1],i=0;i<n.length;i+=1){const s=Xt(e,n,i);o[i]?o[i].p(s,r):(o[i]=Gt(s),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){v(o,e),e&&g(t)}}}(t),i=t[0].length>3&&Yt(t);return{c(){n=y("ul"),r&&r.c(),o=w(),i&&i.c(),k(n,"class","svelte-1y7flg5")},m(e,t){m(e,n,t),r&&r.m(n,null),h(n,o),i&&i.m(n,null)},p(e,[t]){mt&&r.p(e,t),e[0].length>3?i?i.p(e,t):(i=Yt(e),i.c(),i.m(n,null)):i&&(i.d(1),i=null)},i:e,o:e,d(e){e&&g(n),r&&r.d(),i&&i.d()}}}function Zt(e,t,n){let o;const r=P();let{selectedFiles:i=[]}=t;return e.$$set=e=>{"selectedFiles"in e&&n(0,i=e.selectedFiles)},e.$$.update=()=>{1&e.$$.dirty&&n(1,o=i.slice(0,3))},[i,o,r]}class en extends ie{constructor(e){super(),re(this,e,Zt,Qt,s,{selectedFiles:0})}}var tn="top",nn="bottom",on="right",rn="left",sn=[tn,nn,on,rn],an=sn.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),cn=[].concat(sn,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),ln=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function un(e){return e?(e.nodeName||"").toLowerCase():null}function pn(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function fn(e){return e instanceof pn(e).Element||e instanceof Element}function dn(e){return e instanceof pn(e).HTMLElement||e instanceof HTMLElement}function hn(e){return"undefined"!=typeof ShadowRoot&&(e instanceof pn(e).ShadowRoot||e instanceof ShadowRoot)}var mn={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},r=t.elements[e];dn(r)&&un(r)&&(Object.assign(r.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],r=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});dn(o)&&un(o)&&(Object.assign(o.style,i),Object.keys(r).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]};function gn(e){return e.split("-")[0]}var vn=Math.max,yn=Math.min,bn=Math.round;function wn(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),o=1,r=1;if(dn(e)&&t){var i=e.offsetHeight,s=e.offsetWidth;s>0&&(o=bn(n.width)/s||1),i>0&&(r=bn(n.height)/i||1)}return{width:n.width/o,height:n.height/r,top:n.top/r,right:n.right/o,bottom:n.bottom/r,left:n.left/o,x:n.left/o,y:n.top/r}}function xn(e){var t=wn(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function $n(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&hn(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function kn(e){return pn(e).getComputedStyle(e)}function On(e){return["table","td","th"].indexOf(un(e))>=0}function En(e){return((fn(e)?e.ownerDocument:e.document)||window.document).documentElement}function Tn(e){return"html"===un(e)?e:e.assignedSlot||e.parentNode||(hn(e)?e.host:null)||En(e)}function _n(e){return dn(e)&&"fixed"!==kn(e).position?e.offsetParent:null}function Sn(e){for(var t=pn(e),n=_n(e);n&&On(n)&&"static"===kn(n).position;)n=_n(n);return n&&("html"===un(n)||"body"===un(n)&&"static"===kn(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&dn(e)&&"fixed"===kn(e).position)return null;for(var n=Tn(e);dn(n)&&["html","body"].indexOf(un(n))<0;){var o=kn(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(e)||t}function An(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Cn(e,t,n){return vn(e,yn(t,n))}function jn(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Dn(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Pn(e){return e.split("-")[1]}var Ln={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nn(e){var t,n=e.popper,o=e.popperRect,r=e.placement,i=e.variation,s=e.offsets,a=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,p=e.isFixed,f=s.x,d=void 0===f?0:f,h=s.y,m=void 0===h?0:h,g="function"==typeof u?u({x:d,y:m}):{x:d,y:m};d=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=rn,w=tn,x=window;if(l){var $=Sn(n),k="clientHeight",O="clientWidth";if($===pn(n)&&"static"!==kn($=En(n)).position&&"absolute"===a&&(k="scrollHeight",O="scrollWidth"),$=$,r===tn||(r===rn||r===on)&&"end"===i)w=nn,m-=(p&&x.visualViewport?x.visualViewport.height:$[k])-o.height,m*=c?1:-1;if(r===rn||(r===tn||r===nn)&&"end"===i)b=on,d-=(p&&x.visualViewport?x.visualViewport.width:$[O])-o.width,d*=c?1:-1}var E,T=Object.assign({position:a},l&&Ln),_=!0===u?function(e){var t=e.x,n=e.y,o=window.devicePixelRatio||1;return{x:bn(t*o)/o||0,y:bn(n*o)/o||0}}({x:d,y:m}):{x:d,y:m};return d=_.x,m=_.y,c?Object.assign({},T,((E={})[w]=y?"0":"",E[b]=v?"0":"",E.transform=(x.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",E)):Object.assign({},T,((t={})[w]=y?m+"px":"",t[b]=v?d+"px":"",t.transform="",t))}var zn={passive:!0};var Rn={left:"right",right:"left",bottom:"top",top:"bottom"};function Fn(e){return e.replace(/left|right|bottom|top/g,(function(e){return Rn[e]}))}var Mn={start:"end",end:"start"};function Un(e){return e.replace(/start|end/g,(function(e){return Mn[e]}))}function Bn(e){var t=pn(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function In(e){return wn(En(e)).left+Bn(e).scrollLeft}function Hn(e){var t=kn(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function qn(e){return["html","body","#document"].indexOf(un(e))>=0?e.ownerDocument.body:dn(e)&&Hn(e)?e:qn(Tn(e))}function Vn(e,t){var n;void 0===t&&(t=[]);var o=qn(e),r=o===(null==(n=e.ownerDocument)?void 0:n.body),i=pn(o),s=r?[i].concat(i.visualViewport||[],Hn(o)?o:[]):o,a=t.concat(s);return r?a:a.concat(Vn(Tn(s)))}function Wn(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Jn(e,t){return"viewport"===t?Wn(function(e){var t=pn(e),n=En(e),o=t.visualViewport,r=n.clientWidth,i=n.clientHeight,s=0,a=0;return o&&(r=o.width,i=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=o.offsetLeft,a=o.offsetTop)),{width:r,height:i,x:s+In(e),y:a}}(e)):fn(t)?function(e){var t=wn(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Wn(function(e){var t,n=En(e),o=Bn(e),r=null==(t=e.ownerDocument)?void 0:t.body,i=vn(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=vn(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-o.scrollLeft+In(e),c=-o.scrollTop;return"rtl"===kn(r||n).direction&&(a+=vn(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:s,x:a,y:c}}(En(e)))}function Kn(e,t,n){var o="clippingParents"===t?function(e){var t=Vn(Tn(e)),n=["absolute","fixed"].indexOf(kn(e).position)>=0&&dn(e)?Sn(e):e;return fn(n)?t.filter((function(e){return fn(e)&&$n(e,n)&&"body"!==un(e)})):[]}(e):[].concat(t),r=[].concat(o,[n]),i=r[0],s=r.reduce((function(t,n){var o=Jn(e,n);return t.top=vn(o.top,t.top),t.right=yn(o.right,t.right),t.bottom=yn(o.bottom,t.bottom),t.left=vn(o.left,t.left),t}),Jn(e,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Xn(e){var t,n=e.reference,o=e.element,r=e.placement,i=r?gn(r):null,s=r?Pn(r):null,a=n.x+n.width/2-o.width/2,c=n.y+n.height/2-o.height/2;switch(i){case tn:t={x:a,y:n.y-o.height};break;case nn:t={x:a,y:n.y+n.height};break;case on:t={x:n.x+n.width,y:c};break;case rn:t={x:n.x-o.width,y:c};break;default:t={x:n.x,y:n.y}}var l=i?An(i):null;if(null!=l){var u="y"===l?"height":"width";switch(s){case"start":t[l]=t[l]-(n[u]/2-o[u]/2);break;case"end":t[l]=t[l]+(n[u]/2-o[u]/2)}}return t}function Gn(e,t){void 0===t&&(t={});var n=t,o=n.placement,r=void 0===o?e.placement:o,i=n.boundary,s=void 0===i?"clippingParents":i,a=n.rootBoundary,c=void 0===a?"viewport":a,l=n.elementContext,u=void 0===l?"popper":l,p=n.altBoundary,f=void 0!==p&&p,d=n.padding,h=void 0===d?0:d,m=jn("number"!=typeof h?h:Dn(h,sn)),g="popper"===u?"reference":"popper",v=e.rects.popper,y=e.elements[f?g:u],b=Kn(fn(y)?y:y.contextElement||En(e.elements.popper),s,c),w=wn(e.elements.reference),x=Xn({reference:w,element:v,strategy:"absolute",placement:r}),$=Wn(Object.assign({},v,x)),k="popper"===u?$:w,O={top:b.top-k.top+m.top,bottom:k.bottom-b.bottom+m.bottom,left:b.left-k.left+m.left,right:k.right-b.right+m.right},E=e.modifiersData.offset;if("popper"===u&&E){var T=E[r];Object.keys(O).forEach((function(e){var t=[on,nn].indexOf(e)>=0?1:-1,n=[tn,nn].indexOf(e)>=0?"y":"x";O[e]+=T[n]*t}))}return O}function Yn(e,t){void 0===t&&(t={});var n=t,o=n.placement,r=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?cn:c,u=Pn(o),p=u?a?an:an.filter((function(e){return Pn(e)===u})):sn,f=p.filter((function(e){return l.indexOf(e)>=0}));0===f.length&&(f=p);var d=f.reduce((function(t,n){return t[n]=Gn(e,{placement:n,boundary:r,rootBoundary:i,padding:s})[gn(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}function Qn(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Zn(e){return[tn,on,nn,rn].some((function(t){return e[t]>=0}))}function eo(e,t,n){void 0===n&&(n=!1);var o,r=dn(t),i=dn(t)&&function(e){var t=e.getBoundingClientRect(),n=bn(t.width)/e.offsetWidth||1,o=bn(t.height)/e.offsetHeight||1;return 1!==n||1!==o}(t),s=En(t),a=wn(e,i),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==un(t)||Hn(s))&&(c=(o=t)!==pn(o)&&dn(o)?function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}(o):Bn(o)),dn(t)?((l=wn(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=In(s))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function to(e){var t=new Map,n=new Set,o=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var o=t.get(e);o&&r(o)}})),o.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),o}var no={placement:"bottom",modifiers:[],strategy:"absolute"};function oo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ro(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,o=void 0===n?[]:n,r=t.defaultOptions,i=void 0===r?no:r;return function(e,t,n){void 0===n&&(n=i);var r,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},no,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,u={state:a,setOptions:function(n){var r="function"==typeof n?n(a.options):n;p(),a.options=Object.assign({},i,a.options,r),a.scrollParents={reference:fn(e)?Vn(e):e.contextElement?Vn(e.contextElement):[],popper:Vn(t)};var s,l,f=function(e){var t=to(e);return ln.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(o,a.options.modifiers),l=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(l).map((function(e){return l[e]}))));return a.orderedModifiers=f.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,o=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var i=r({state:a,name:t,instance:u,options:o}),s=function(){};c.push(i||s)}})),u.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,n=e.popper;if(oo(t,n)){a.rects={reference:eo(t,Sn(n),"fixed"===a.options.strategy),popper:xn(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var o=0;o<a.orderedModifiers.length;o++)if(!0!==a.reset){var r=a.orderedModifiers[o],i=r.fn,s=r.options,c=void 0===s?{}:s,p=r.name;"function"==typeof i&&(a=i({state:a,options:c,name:p,instance:u})||a)}else a.reset=!1,o=-1}}},update:(r=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(r())}))}))),s}),destroy:function(){p(),l=!0}};if(!oo(e,t))return u;function p(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var io=ro({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,o=e.options,r=o.scroll,i=void 0===r||r,s=o.resize,a=void 0===s||s,c=pn(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",n.update,zn)})),a&&c.addEventListener("resize",n.update,zn),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",n.update,zn)})),a&&c.removeEventListener("resize",n.update,zn)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Xn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=void 0===o||o,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,c=void 0===a||a,l={placement:gn(t.placement),variation:Pn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Nn(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Nn(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},mn,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,o=e.name,r=n.offset,i=void 0===r?[0,0]:r,s=cn.reduce((function(e,n){return e[n]=function(e,t,n){var o=gn(e),r=[rn,tn].indexOf(o)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*r,[rn,on].indexOf(o)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,i),e}),{}),a=s[t.placement],c=a.x,l=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[o]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=n.mainAxis,i=void 0===r||r,s=n.altAxis,a=void 0===s||s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,p=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,h=void 0===d||d,m=n.allowedAutoPlacements,g=t.options.placement,v=gn(g),y=c||(v===g||!h?[Fn(g)]:function(e){if("auto"===gn(e))return[];var t=Fn(e);return[Un(e),t,Un(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat("auto"===gn(n)?Yn(t,{placement:n,boundary:u,rootBoundary:p,padding:l,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,x=t.rects.popper,$=new Map,k=!0,O=b[0],E=0;E<b.length;E++){var T=b[E],_=gn(T),S="start"===Pn(T),A=[tn,nn].indexOf(_)>=0,C=A?"width":"height",j=Gn(t,{placement:T,boundary:u,rootBoundary:p,altBoundary:f,padding:l}),D=A?S?on:rn:S?nn:tn;w[C]>x[C]&&(D=Fn(D));var P=Fn(D),L=[];if(i&&L.push(j[_]<=0),a&&L.push(j[D]<=0,j[P]<=0),L.every((function(e){return e}))){O=T,k=!1;break}$.set(T,L)}if(k)for(var N=function(e){var t=b.find((function(t){var n=$.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return O=t,"break"},z=h?3:1;z>0;z--){if("break"===N(z))break}t.placement!==O&&(t.modifiersData[o]._skip=!0,t.placement=O,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name,r=n.mainAxis,i=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,p=n.padding,f=n.tether,d=void 0===f||f,h=n.tetherOffset,m=void 0===h?0:h,g=Gn(t,{boundary:c,rootBoundary:l,padding:p,altBoundary:u}),v=gn(t.placement),y=Pn(t.placement),b=!y,w=An(v),x="x"===w?"y":"x",$=t.modifiersData.popperOffsets,k=t.rects.reference,O=t.rects.popper,E="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"==typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,S={x:0,y:0};if($){if(i){var A,C="y"===w?tn:rn,j="y"===w?nn:on,D="y"===w?"height":"width",P=$[w],L=P+g[C],N=P-g[j],z=d?-O[D]/2:0,R="start"===y?k[D]:O[D],F="start"===y?-O[D]:-k[D],M=t.elements.arrow,U=d&&M?xn(M):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},I=B[C],H=B[j],q=Cn(0,k[D],U[D]),V=b?k[D]/2-z-q-I-T.mainAxis:R-q-I-T.mainAxis,W=b?-k[D]/2+z+q+H+T.mainAxis:F+q+H+T.mainAxis,J=t.elements.arrow&&Sn(t.elements.arrow),K=J?"y"===w?J.clientTop||0:J.clientLeft||0:0,X=null!=(A=null==_?void 0:_[w])?A:0,G=P+W-X,Y=Cn(d?yn(L,P+V-X-K):L,P,d?vn(N,G):N);$[w]=Y,S[w]=Y-P}if(a){var Q,Z="x"===w?tn:rn,ee="x"===w?nn:on,te=$[x],ne="y"===x?"height":"width",oe=te+g[Z],re=te-g[ee],ie=-1!==[tn,rn].indexOf(v),se=null!=(Q=null==_?void 0:_[x])?Q:0,ae=ie?oe:te-k[ne]-O[ne]-se+T.altAxis,ce=ie?te+k[ne]+O[ne]-se-T.altAxis:re,le=d&&ie?function(e,t,n){var o=Cn(e,t,n);return o>n?n:o}(ae,te,ce):Cn(d?ae:oe,te,d?ce:re);$[x]=le,S[x]=le-te}t.modifiersData[o]=S}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,o=e.name,r=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=gn(n.placement),c=An(a),l=[rn,on].indexOf(a)>=0?"height":"width";if(i&&s){var u=function(e,t){return jn("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Dn(e,sn))}(r.padding,n),p=xn(i),f="y"===c?tn:rn,d="y"===c?nn:on,h=n.rects.reference[l]+n.rects.reference[c]-s[c]-n.rects.popper[l],m=s[c]-n.rects.reference[c],g=Sn(i),v=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,y=h/2-m/2,b=u[f],w=v-p[l]-u[d],x=v/2-p[l]/2+y,$=Cn(b,x,w),k=c;n.modifiersData[o]=((t={})[k]=$,t.centerOffset=$-x,t)}},effect:function(e){var t=e.state,n=e.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&$n(t.elements.popper,o)&&(t.elements.arrow=o)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,o=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,s=Gn(t,{elementContext:"reference"}),a=Gn(t,{altBoundary:!0}),c=Qn(s,o),l=Qn(a,r,i),u=Zn(c),p=Zn(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}}]}),so={passive:!0,capture:!0},ao=function(){return document.body};function co(e,t,n){if(Array.isArray(e)){var o=e[t];return null==o?Array.isArray(n)?n[t]:n:o}return e}function lo(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function uo(e,t){return"function"==typeof e?e.apply(void 0,t):e}function po(e,t){return 0===t?e:function(o){clearTimeout(n),n=setTimeout((function(){e(o)}),t)};var n}function fo(e){return[].concat(e)}function ho(e,t){-1===e.indexOf(t)&&e.push(t)}function mo(e){return[].slice.call(e)}function go(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function vo(){return document.createElement("div")}function yo(e){return["Element","Fragment"].some((function(t){return lo(e,t)}))}function bo(e){return yo(e)?[e]:function(e){return lo(e,"NodeList")}(e)?mo(e):Array.isArray(e)?e:mo(document.querySelectorAll(e))}function wo(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function xo(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function $o(e,t,n){var o=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[o](t,n)}))}function ko(e,t){for(var n=t;n;){var o;if(e.contains(n))return!0;n=null==n.getRootNode||null==(o=n.getRootNode())?void 0:o.host}return!1}var Oo={isTouch:!1},Eo=0;function To(){Oo.isTouch||(Oo.isTouch=!0,window.performance&&document.addEventListener("mousemove",_o))}function _o(){var e=performance.now();e-Eo<20&&(Oo.isTouch=!1,document.removeEventListener("mousemove",_o)),Eo=e}function So(){var e,t=document.activeElement;if((e=t)&&e._tippy&&e._tippy.reference===e){var n=t._tippy;t.blur&&!n.state.isVisible&&t.blur()}}var Ao=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto,Co=Object.assign({appendTo:ao,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),jo=Object.keys(Co);function Do(e){var t=(e.plugins||[]).reduce((function(t,n){var o,r=n.name,i=n.defaultValue;r&&(t[r]=void 0!==e[r]?e[r]:null!=(o=Co[r])?o:i);return t}),{});return Object.assign({},e,t)}function Po(e,t){var n=Object.assign({},t,{content:uo(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Do(Object.assign({},Co,{plugins:t}))):jo).reduce((function(t,n){var o=(e.getAttribute("data-tippy-"+n)||"").trim();if(!o)return t;if("content"===n)t[n]=o;else try{t[n]=JSON.parse(o)}catch(e){t[n]=o}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},Co.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function Lo(e,t){e.innerHTML=t}function No(e){var t=vo();return!0===e?t.className="tippy-arrow":(t.className="tippy-svg-arrow",yo(e)?t.appendChild(e):Lo(t,e)),t}function zo(e,t){yo(t.content)?(Lo(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?Lo(e,t.content):e.textContent=t.content)}function Ro(e){var t=e.firstElementChild,n=mo(t.children);return{box:t,content:n.find((function(e){return e.classList.contains("tippy-content")})),arrow:n.find((function(e){return e.classList.contains("tippy-arrow")||e.classList.contains("tippy-svg-arrow")})),backdrop:n.find((function(e){return e.classList.contains("tippy-backdrop")}))}}function Fo(e){var t=vo(),n=vo();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var o=vo();function r(n,o){var r=Ro(t),i=r.box,s=r.content,a=r.arrow;o.theme?i.setAttribute("data-theme",o.theme):i.removeAttribute("data-theme"),"string"==typeof o.animation?i.setAttribute("data-animation",o.animation):i.removeAttribute("data-animation"),o.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof o.maxWidth?o.maxWidth+"px":o.maxWidth,o.role?i.setAttribute("role",o.role):i.removeAttribute("role"),n.content===o.content&&n.allowHTML===o.allowHTML||zo(s,e.props),o.arrow?a?n.arrow!==o.arrow&&(i.removeChild(a),i.appendChild(No(o.arrow))):i.appendChild(No(o.arrow)):a&&i.removeChild(a)}return o.className="tippy-content",o.setAttribute("data-state","hidden"),zo(o,e.props),t.appendChild(n),n.appendChild(o),r(e.props,e.props),{popper:t,onUpdate:r}}Fo.$$tippy=!0;var Mo=1,Uo=[],Bo=[];function Io(e,t){var n,o,r,i,s,a,c,l,u=Po(e,Object.assign({},Co,Do(go(t)))),p=!1,f=!1,d=!1,h=!1,m=[],g=po(J,u.interactiveDebounce),v=Mo++,y=(l=u.plugins).filter((function(e,t){return l.indexOf(e)===t})),b={id:v,reference:e,popper:vo(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(o),cancelAnimationFrame(r)},setProps:function(t){if(b.state.isDestroyed)return;P("onBeforeUpdate",[b,t]),V();var n=b.props,o=Po(e,Object.assign({},n,go(t),{ignoreAttributes:!0}));b.props=o,q(),n.interactiveDebounce!==o.interactiveDebounce&&(z(),g=po(J,o.interactiveDebounce));n.triggerTarget&&!o.triggerTarget?fo(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):o.triggerTarget&&e.removeAttribute("aria-expanded");N(),D(),$&&$(n,o);b.popperInstance&&(Y(),Z().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));P("onAfterUpdate",[b,t])},setContent:function(e){b.setProps({content:e})},show:function(){var e=b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,o=Oo.isTouch&&!b.props.touch,r=co(b.props.duration,0,Co.duration);if(e||t||n||o)return;if(S().hasAttribute("disabled"))return;if(P("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,_()&&(x.style.visibility="visible");D(),U(),b.state.isMounted||(x.style.transition="none");if(_()){var i=C(),s=i.box,c=i.content;wo([s,c],0)}a=function(){var e;if(b.state.isVisible&&!h){if(h=!0,x.offsetHeight,x.style.transition=b.props.moveTransition,_()&&b.props.animation){var t=C(),n=t.box,o=t.content;wo([n,o],r),xo([n,o],"visible")}L(),N(),ho(Bo,b),null==(e=b.popperInstance)||e.forceUpdate(),P("onMount",[b]),b.props.animation&&_()&&function(e,t){I(e,t)}(r,(function(){b.state.isShown=!0,P("onShown",[b])}))}},function(){var e,t=b.props.appendTo,n=S();e=b.props.interactive&&t===ao||"parent"===t?n.parentNode:uo(t,[n]);e.contains(x)||e.appendChild(x);b.state.isMounted=!0,Y()}()},hide:function(){var e=!b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,o=co(b.props.duration,1,Co.duration);if(e||t||n)return;if(P("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,h=!1,p=!1,_()&&(x.style.visibility="hidden");if(z(),B(),D(!0),_()){var r=C(),i=r.box,s=r.content;b.props.animation&&(wo([i,s],o),xo([i,s],"hidden"))}L(),N(),b.props.animation?_()&&function(e,t){I(e,(function(){!b.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&t()}))}(o,b.unmount):b.unmount()},hideWithInteractivity:function(e){A().addEventListener("mousemove",g),ho(Uo,g),g(e)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){b.state.isVisible&&b.hide();if(!b.state.isMounted)return;Q(),Z().forEach((function(e){e._tippy.unmount()})),x.parentNode&&x.parentNode.removeChild(x);Bo=Bo.filter((function(e){return e!==b})),b.state.isMounted=!1,P("onHidden",[b])},destroy:function(){if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),V(),delete e._tippy,b.state.isDestroyed=!0,P("onDestroy",[b])}};if(!u.render)return b;var w=u.render(b),x=w.popper,$=w.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+b.id,b.popper=x,e._tippy=b,x._tippy=b;var k=y.map((function(e){return e.fn(b)})),O=e.hasAttribute("aria-expanded");return q(),N(),D(),P("onCreate",[b]),u.showOnCreate&&ee(),x.addEventListener("mouseenter",(function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()})),x.addEventListener("mouseleave",(function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&A().addEventListener("mousemove",g)})),b;function E(){var e=b.props.touch;return Array.isArray(e)?e:[e,0]}function T(){return"hold"===E()[0]}function _(){var e;return!(null==(e=b.props.render)||!e.$$tippy)}function S(){return c||e}function A(){var e=S().parentNode;return e?function(e){var t,n=fo(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}(e):document}function C(){return Ro(x)}function j(e){return b.state.isMounted&&!b.state.isVisible||Oo.isTouch||i&&"focus"===i.type?0:co(b.props.delay,e?0:1,Co.delay)}function D(e){void 0===e&&(e=!1),x.style.pointerEvents=b.props.interactive&&!e?"":"none",x.style.zIndex=""+b.props.zIndex}function P(e,t,n){var o;(void 0===n&&(n=!0),k.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(o=b.props)[e].apply(o,t)}function L(){var t=b.props.aria;if(t.content){var n="aria-"+t.content,o=x.id;fo(b.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(b.state.isVisible)e.setAttribute(n,t?t+" "+o:o);else{var r=t&&t.replace(o,"").trim();r?e.setAttribute(n,r):e.removeAttribute(n)}}))}}function N(){!O&&b.props.aria.expanded&&fo(b.props.triggerTarget||e).forEach((function(e){b.props.interactive?e.setAttribute("aria-expanded",b.state.isVisible&&e===S()?"true":"false"):e.removeAttribute("aria-expanded")}))}function z(){A().removeEventListener("mousemove",g),Uo=Uo.filter((function(e){return e!==g}))}function R(t){if(!Oo.isTouch||!d&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!b.props.interactive||!ko(x,n)){if(fo(b.props.triggerTarget||e).some((function(e){return ko(e,n)}))){if(Oo.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else P("onClickOutside",[b,t]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),f=!0,setTimeout((function(){f=!1})),b.state.isMounted||B())}}}function F(){d=!0}function M(){d=!1}function U(){var e=A();e.addEventListener("mousedown",R,!0),e.addEventListener("touchend",R,so),e.addEventListener("touchstart",M,so),e.addEventListener("touchmove",F,so)}function B(){var e=A();e.removeEventListener("mousedown",R,!0),e.removeEventListener("touchend",R,so),e.removeEventListener("touchstart",M,so),e.removeEventListener("touchmove",F,so)}function I(e,t){var n=C().box;function o(e){e.target===n&&($o(n,"remove",o),t())}if(0===e)return t();$o(n,"remove",s),$o(n,"add",o),s=o}function H(t,n,o){void 0===o&&(o=!1),fo(b.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,o),m.push({node:e,eventType:t,handler:n,options:o})}))}function q(){var e;T()&&(H("touchstart",W,{passive:!0}),H("touchend",K,{passive:!0})),(e=b.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(H(e,W),e){case"mouseenter":H("mouseleave",K);break;case"focus":H(Ao?"focusout":"blur",X);break;case"focusin":H("focusout",X)}}))}function V(){m.forEach((function(e){var t=e.node,n=e.eventType,o=e.handler,r=e.options;t.removeEventListener(n,o,r)})),m=[]}function W(e){var t,n=!1;if(b.state.isEnabled&&!G(e)&&!f){var o="focus"===(null==(t=i)?void 0:t.type);i=e,c=e.currentTarget,N(),!b.state.isVisible&&lo(e,"MouseEvent")&&Uo.forEach((function(t){return t(e)})),"click"===e.type&&(b.props.trigger.indexOf("mouseenter")<0||p)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:ee(e),"click"===e.type&&(p=!n),n&&!o&&te(e)}}function J(e){var t=e.target,n=S().contains(t)||x.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,o=t.clientY;return e.every((function(e){var t=e.popperRect,r=e.popperState,i=e.props.interactiveBorder,s=r.placement.split("-")[0],a=r.modifiersData.offset;if(!a)return!0;var c="bottom"===s?a.top.y:0,l="top"===s?a.bottom.y:0,u="right"===s?a.left.x:0,p="left"===s?a.right.x:0,f=t.top-o+c>i,d=o-t.bottom-l>i,h=t.left-n+u>i,m=n-t.right-p>i;return f||d||h||m}))}(Z().concat(x).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:u}:null})).filter(Boolean),e)&&(z(),te(e))}function K(e){G(e)||b.props.trigger.indexOf("click")>=0&&p||(b.props.interactive?b.hideWithInteractivity(e):te(e))}function X(e){b.props.trigger.indexOf("focusin")<0&&e.target!==S()||b.props.interactive&&e.relatedTarget&&x.contains(e.relatedTarget)||te(e)}function G(e){return!!Oo.isTouch&&T()!==e.type.indexOf("touch")>=0}function Y(){Q();var t=b.props,n=t.popperOptions,o=t.placement,r=t.offset,i=t.getReferenceClientRect,s=t.moveTransition,c=_()?Ro(x).arrow:null,l=i?{getBoundingClientRect:i,contextElement:i.contextElement||S()}:e,u=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(_()){var n=C().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];_()&&c&&u.push({name:"arrow",options:{element:c,padding:3}}),u.push.apply(u,(null==n?void 0:n.modifiers)||[]),b.popperInstance=io(l,x,Object.assign({},n,{placement:o,onFirstUpdate:a,modifiers:u}))}function Q(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Z(){return mo(x.querySelectorAll("[data-tippy-root]"))}function ee(e){b.clearDelayTimeouts(),e&&P("onTrigger",[b,e]),U();var t=j(!0),o=E(),r=o[0],i=o[1];Oo.isTouch&&"hold"===r&&i&&(t=i),t?n=setTimeout((function(){b.show()}),t):b.show()}function te(e){if(b.clearDelayTimeouts(),P("onUntrigger",[b,e]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&p)){var t=j(!1);t?o=setTimeout((function(){b.state.isVisible&&b.hide()}),t):r=requestAnimationFrame((function(){b.hide()}))}}else B()}}function Ho(e,t){void 0===t&&(t={});var n=Co.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",To,so),window.addEventListener("blur",So);var o=Object.assign({},t,{plugins:n}),r=bo(e).reduce((function(e,t){var n=t&&Io(t,o);return n&&e.push(n),e}),[]);return yo(e)?r[0]:r}function qo(e){let t,n,o,r,i,s,a,c,l,u,p,f,d=e[2]&&Vo(e),v=e[3]&&Wo(e),b=e[4]&&Jo(e);return{c(){t=y("li"),n=y("figure"),o=y("div"),r=y("img"),a=w(),c=y("div"),d&&d.c(),l=w(),v&&v.c(),u=w(),b&&b.c(),k(r,"loading","lazy"),r.src!==(i=e[0].imagePath||e[0].modifiedPreviewFileURLs[0])&&k(r,"src",i),k(r,"alt",s=e[0].fileName),k(r,"class","svelte-1tzh62p"),k(c,"class","tags svelte-1tzh62p"),k(o,"class","pixxioSquare svelte-1tzh62p"),S(o,"pixxioSquare--active",e[0].selected),k(n,"class","svelte-1tzh62p"),k(t,"class","svelte-1tzh62p")},m(i,s){m(i,t,s),h(t,n),h(n,o),h(o,r),h(o,a),h(o,c),d&&d.m(c,null),h(c,l),v&&v.m(c,null),h(n,u),b&&b.m(n,null),p||(f=$(t,"click",e[9]),p=!0)},p(e,t){1&t&&r.src!==(i=e[0].imagePath||e[0].modifiedPreviewFileURLs[0])&&k(r,"src",i),1&t&&s!==(s=e[0].fileName)&&k(r,"alt",s),e[2]?d?d.p(e,t):(d=Vo(e),d.c(),d.m(c,l)):d&&(d.d(1),d=null),e[3]?v?v.p(e,t):(v=Wo(e),v.c(),v.m(c,null)):v&&(v.d(1),v=null),1&t&&S(o,"pixxioSquare--active",e[0].selected),e[4]?b?b.p(e,t):(b=Jo(e),b.c(),b.m(n,null)):b&&(b.d(1),b=null)},d(e){e&&g(t),d&&d.d(),v&&v.d(),b&&b.d(),p=!1,f()}}}function Vo(e){let t,n,o=e[6](e[0].fileSize)+"";return{c(){t=y("div"),n=b(o),k(t,"class","tag svelte-1tzh62p")},m(e,o){m(e,t,o),h(t,n)},p(e,t){1&t&&o!==(o=e[6](e[0].fileSize)+"")&&O(n,o)},d(e){e&&g(t)}}}function Wo(e){let t,n,o=e[0].fileExtension+"";return{c(){t=y("div"),n=b(o),k(t,"class","tag svelte-1tzh62p")},m(e,o){m(e,t,o),h(t,n)},p(e,t){1&t&&o!==(o=e[0].fileExtension+"")&&O(n,o)},d(e){e&&g(t)}}}function Jo(e){let t,n,o=e[0].fileName+"";return{c(){t=y("figcaption"),n=b(o),k(t,"class","svelte-1tzh62p")},m(o,r){m(o,t,r),h(t,n),e[8](t)},p(e,t){1&t&&o!==(o=e[0].fileName+"")&&O(n,o)},d(n){n&&g(t),e[8](null)}}}function Ko(t){let n,o=t[0]&&qo(t);return{c(){o&&o.c(),n=x()},m(e,t){o&&o.m(e,t),m(e,n,t)},p(e,[t]){e[0]?o?o.p(e,t):(o=qo(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:e,o:e,d(e){o&&o.d(e),e&&g(n)}}}function Xo(e,t,n){let o,r,i,s;l(e,xt,(e=>n(13,o=e))),l(e,Et,(e=>n(2,r=e))),l(e,Ot,(e=>n(3,i=e))),l(e,kt,(e=>n(4,s=e)));let{file:a=null}=t,{selected:c=!1}=t,u=null,p=null;const f=P();let d,h=0;const m=()=>{if(1===o){const e=Date.now()-h;d&&clearTimeout(d),e<200?v():d=setTimeout((()=>{g()}),200),h=Date.now()}else g()},g=()=>{f(c?"deselect":"select",a)},v=()=>{1===o?f("selectAndClose",a):g()},y=()=>{p&&p.destroy()};var b;b=()=>y(),j().$$.on_destroy.push(b);return e.$$set=e=>{"file"in e&&n(0,a=e.file),"selected"in e&&n(7,c=e.selected)},e.$$.update=()=>{1&e.$$.dirty&&a&&u&&(y(),p=Ho(u,{content:a.fileName,arrow:!1}))},[a,u,r,i,s,m,e=>e>1e8?Math.ceil(e/1e9*100)/100+" GB":e>1e5?Math.ceil(e/1e6*100)/100+" MB":e>1e3?Math.ceil(e/1e3)+" KB":Math.ceil(e)+" B",c,function(e){N[e?"unshift":"push"]((()=>{u=e,n(1,u)}))},()=>m()]}Ho.defaultProps=Co,Ho.setDefaultProps=function(e){Object.keys(e).forEach((function(t){Co[t]=e[t]}))},Ho.currentInput=Oo,Object.assign({},mn,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),Ho.setDefaultProps({render:Fo});class Go extends ie{constructor(e){super(),re(this,e,Xo,Ko,s,{file:0,selected:7})}}function Yo(e){let t,n;const o=e[2].default,r=function(e,t,n,o){if(e){const r=u(e,t,n,o);return e[0](r)}}(o,e,e[1],null);return{c(){t=y("div"),r&&r.c(),k(t,"class","svelte-18x7sgz"),S(t,"success",e[0].success)},m(e,o){m(e,t,o),r&&r.m(t,null),n=!0},p(e,[n]){r&&r.p&&2&n&&p(r,o,e,e[1],n,null,null),1&n&&S(t,"success",e[0].success)},i(e){n||(G(r,e),n=!0)},o(e){Y(r,e),n=!1},d(e){e&&g(t),r&&r.d(e)}}}function Qo(e,n,o){let{$$slots:r={},$$scope:i}=n;return e.$$set=e=>{o(0,n=t(t({},n),f(e))),"$$scope"in e&&o(1,i=e.$$scope)},[n=f(n),i,r]}class Zo extends ie{constructor(e){super(),re(this,e,Qo,Yo,s,{})}}function er(e,t,n){const o=e.slice();return o[34]=t[n],o[35]=t,o[36]=n,o}function tr(t){let n;return{c(){n=b("error")},m(e,t){m(e,n,t)},p:e,i:e,o:e,d(e){e&&g(n)}}}function nr(e){let t,n,o,i,s,a,c,l,u,p,f,d,x,O,E,_,A,C=At("select")+"",j=e[4],D=[];for(let t=0;t<j.length;t+=1)D[t]=or(er(e,j,t));const P=e=>Y(D[e],1,1,(()=>{D[e]=null}));let L=e[1]>0&&rr(e),N=e[10]&&!e[9]&&ir(e);return p=new Kt({}),{c(){t=y("section"),n=y("ul");for(let e=0;e<D.length;e+=1)D[e].c();o=w(),i=y("div"),s=y("div"),L&&L.c(),a=w(),N&&N.c(),c=w(),l=y("span"),u=w(),ee(p.$$.fragment),f=w(),d=y("button"),x=b(C),k(n,"class","svelte-wpisvp"),k(t,"class","pixxioFiles__container svelte-wpisvp"),S(t,"pixxioFiles__container--maxReached",e[6]),T(l,"flex-grow","1"),k(d,"class","button svelte-wpisvp"),k(d,"type","submit"),d.disabled=O=!e[7]||e[5],k(s,"class","buttonGroup buttonGroup--right svelte-wpisvp"),k(i,"class","svelte-wpisvp"),S(i,"compact",e[9])},m(r,g){m(r,t,g),h(t,n);for(let e=0;e<D.length;e+=1)D[e].m(n,null);m(r,o,g),m(r,i,g),h(i,s),L&&L.m(s,null),h(s,a),N&&N.m(s,null),h(s,c),h(s,l),h(s,u),te(p,s,null),h(s,f),h(s,d),h(d,x),E=!0,_||(A=[$(t,"scroll",e[11]),$(d,"click",e[15])],_=!0)},p(e,o){if(28688&o[0]){let t;for(j=e[4],t=0;t<j.length;t+=1){const r=er(e,j,t);D[t]?(D[t].p(r,o),G(D[t],1)):(D[t]=or(r),D[t].c(),G(D[t],1),D[t].m(n,null))}for(K(),t=j.length;t<D.length;t+=1)P(t);X()}64&o[0]&&S(t,"pixxioFiles__container--maxReached",e[6]),e[1]>0?L?L.p(e,o):(L=rr(e),L.c(),L.m(s,a)):L&&(L.d(1),L=null),e[10]&&!e[9]?N?(N.p(e,o),1536&o[0]&&G(N,1)):(N=ir(e),N.c(),G(N,1),N.m(s,c)):N&&(K(),Y(N,1,1,(()=>{N=null})),X()),(!E||160&o[0]&&O!==(O=!e[7]||e[5]))&&(d.disabled=O),512&o[0]&&S(i,"compact",e[9])},i(e){if(!E){for(let e=0;e<j.length;e+=1)G(D[e]);G(N),G(p.$$.fragment,e),E=!0}},o(e){D=D.filter(Boolean);for(let e=0;e<D.length;e+=1)Y(D[e]);Y(N),Y(p.$$.fragment,e),E=!1},d(e){e&&g(t),v(D,e),e&&g(o),e&&g(i),L&&L.d(),N&&N.d(),ne(p),_=!1,r(A)}}}function or(e){let t,n,o,r;function i(t){e[18](t,e[34],e[35],e[36])}function s(t){e[19](t,e[34])}let a={};return void 0!==e[34]&&(a.file=e[34]),void 0!==e[34].selected&&(a.selected=e[34].selected),t=new Go({props:a}),N.push((()=>Z(t,"file",i))),N.push((()=>Z(t,"selected",s))),t.$on("selectAndClose",e[12]),t.$on("select",e[13]),t.$on("deselect",e[14]),{c(){ee(t.$$.fragment)},m(e,n){te(t,e,n),r=!0},p(r,i){e=r;const s={};!n&&16&i[0]&&(n=!0,s.file=e[34],B((()=>n=!1))),!o&&16&i[0]&&(o=!0,s.selected=e[34].selected,B((()=>o=!1))),t.$set(s)},i(e){r||(G(t.$$.fragment,e),r=!0)},o(e){Y(t.$$.fragment,e),r=!1},d(e){ne(t,e)}}}function rr(e){let t,n,o,r,i,s,a,c=e[1]>0?"/"+e[1]:"",l=(e[9]?"":At("selected"))+"";return{c(){t=y("p"),n=y("strong"),o=b(e[2]),r=w(),i=b(c),s=w(),a=b(l),T(t,"white-space","nowrap"),T(t,"padding","0 10px 0 0"),T(t,"margin","0")},m(e,c){m(e,t,c),h(t,n),h(n,o),h(t,r),h(t,i),h(t,s),h(t,a)},p(e,t){4&t[0]&&O(o,e[2]),2&t[0]&&c!==(c=e[1]>0?"/"+e[1]:"")&&O(i,c),512&t[0]&&l!==(l=(e[9]?"":At("selected"))+"")&&O(a,l)},d(e){e&&g(t)}}}function ir(e){let t,n,o;function r(t){e[20](t)}let i={};return void 0!==e[0]&&(i.selectedFiles=e[0]),t=new en({props:i}),N.push((()=>Z(t,"selectedFiles",r))),t.$on("deselect",e[14]),{c(){ee(t.$$.fragment)},m(e,n){te(t,e,n),o=!0},p(e,o){const r={};!n&&1&o[0]&&(n=!0,r.selectedFiles=e[0],B((()=>n=!1))),t.$set(r)},i(e){o||(G(t.$$.fragment,e),o=!0)},o(e){Y(t.$$.fragment,e),o=!1},d(e){ne(t,e)}}}function sr(t){let n,o;return n=new jt({}),{c(){ee(n.$$.fragment)},m(e,t){te(n,e,t),o=!0},p:e,i(e){o||(G(n.$$.fragment,e),o=!0)},o(e){Y(n.$$.fragment,e),o=!1},d(e){ne(n,e)}}}function ar(e){let t,n,o,r={ctx:e,current:null,token:null,hasCatch:!0,pending:sr,then:nr,catch:tr,blocks:[,,,]};return Q(n=e[3],r),{c(){t=y("div"),r.block.c(),k(t,"class","pixxioFiles svelte-wpisvp"),S(t,"no-modal",!e[8])},m(e,n){m(e,t,n),r.block.m(t,r.anchor=null),r.mount=()=>t,r.anchor=null,o=!0},p(o,i){if(e=o,r.ctx=e,8&i[0]&&n!==(n=e[3])&&Q(n,r));else{const t=e.slice();r.block.p(t,i)}256&i[0]&&S(t,"no-modal",!e[8])},i(e){o||(G(r.block),o=!0)},o(e){for(let e=0;e<3;e+=1){Y(r.blocks[e])}o=!1},d(e){e&&g(t),r.block.d(),r.token=null,r=null}}}function cr(e,t,n){let o,r,i,s,a,c,u,p,f,h,m,g,v;l(e,xt,(e=>n(1,c=e))),l(e,vt,(e=>n(17,u=e))),l(e,yt,(e=>n(25,p=e))),l(e,$t,(e=>n(26,f=e))),l(e,pt,(e=>n(27,h=e))),l(e,rt,(e=>n(8,m=e))),l(e,ut,(e=>n(9,g=e))),l(e,mt,(e=>n(10,v=e)));const y=P(),b=new ft;let w=null,x=1,$=[],k=0,O=!1,E="",T=[];D((()=>{n(3,w=S()),gt.subscribe((e=>{E=e,_()})),wt.subscribe((()=>_()))}));const _=()=>{x=1,S()},S=async e=>{try{n(5,O=!0);let t=[],o=[],r={};p.length&&(t=[{filterType:"connectorOr",filters:[...p.map((e=>({filterType:"fileExtension",fileExtension:e})))]}]),E&&(o=[{filterType:"searchTerm",term:E}]),(E||p.length)&&(r={filter:{filterType:"connectorAnd",filters:[...o,...t]}});const i={page:x,pageSize:50,responseFields:["id","modifiedPreviewFileURLs","previewFileURL","originalFileURL","width","height","fileName","fileExtension","uploadDate","modifyDate","rating","userID","fileSize","dominantColor",...f],previewFileOptions:[{height:400,quality:60}],...r},s=await b.get("/files",i);if(!s.success)throw new Zo(s.errormessage);s.files=s.files.map((e=>(e.selected=T.find((t=>t.id===e.id)),e))),e?n(4,$=[...$,...s.files]):(n(4,$=s.files),k=s.quantity),n(5,O=!1)}catch(e){console.log(e),hasError=!0,n(5,O=!1)}},A=e=>{$.find((t=>t.id===e.detail.id)).selected=!0,n(4,$),n(0,T=o>0?[e.detail,...T.slice(0,o-1)]:[e.detail,...T]),C()},C=()=>{$.forEach((e=>{e.selected=!1})),n(4,$),T.forEach((e=>{$.find((t=>t.id==e.id)).selected=!0,n(4,$)}))},j=async(e,t)=>{let n=[],o=null;return new Promise(((r,i)=>{const s=e=>{o=null,n=[],r(e.jobData.downloadURL)};d(pt,h.onmessage=e=>{try{e.data.split("\n").forEach((e=>{let t=JSON.parse(e);if("finishedJob"===t.type&&(n.push(t),o&&t.jobID===o)){const e={success:!0,jobData:t.jobData};s(e)}}))}catch(e){}},h);const a={ids:[e],applyMetadata:!0};["preview","original"].includes(t)?a.downloadType=t:(a.downloadType="downloadFormat",a.downloadFormatID=t),b.get("/files/convert",a).then((e=>{o=e.jobID;const t=n.find((e=>e.jobID===o));if(t){const e={success:!0,jobData:t.jobData};s(e)}}))}))},L=async()=>{const e=[];n(5,O=!0);for(let t=0;t<T.length;t+=1){const n=T[t],o=n.modifiedPreviewFileURLs[0],r=await j(n.id,a);e.push({id:n.id,url:r,thumbnail:o,file:n})}n(5,O=!1),y("submit",e)};return e.$$.update=()=>{2&e.$$.dirty[0]&&n(16,o=c),1&e.$$.dirty[0]&&n(2,r=T.length),65540&e.$$.dirty[0]&&n(6,i=r>=o&&o>0),131076&e.$$.dirty[0]&&n(7,s=r>=1&&u),131072&e.$$.dirty[0]&&(a=u)},[T,c,r,w,$,O,i,s,m,g,v,e=>{if(O||$.length>=k)return;e.target.scrollHeight-e.target.scrollTop-e.target.offsetHeight<e.target.offsetHeight/2&&(x+=1,S(!0))},e=>{A(e),L()},A,e=>{n(0,T=T.filter((t=>t.id!==e.detail.id))),C()},L,o,u,function(e,t,o,r){o[r]=e,n(4,$)},function(t,o){e.$$.not_equal(o.selected,t)&&(o.selected=t,n(4,$))},function(e){T=e,n(0,T)}]}class lr extends ie{constructor(e){super(),re(this,e,cr,ar,s,{},[-1,-1])}}function ur(t){let n,o,r,i,s,a,c,l,u,p,f,d,v=At("logged_in_as")+"";return{c(){n=y("small"),o=b(v),r=w(),i=b(t[0]),s=b(" in "),a=y("a"),c=b(t[2]),u=b(". "),p=y("a"),p.textContent="Ausloggen",k(a,"href",l="https://"+t[2]),k(a,"target","_blank"),k(a,"class","svelte-a2gk4x"),k(p,"href","#"),k(p,"class","svelte-a2gk4x"),k(n,"class","svelte-a2gk4x"),S(n,"no-modal",!t[1])},m(e,l){m(e,n,l),h(n,o),h(n,r),h(n,i),h(n,s),h(n,a),h(a,c),h(n,u),h(n,p),f||(d=$(p,"click",t[3]),f=!0)},p(e,[t]){1&t&&O(i,e[0]),4&t&&O(c,e[2]),4&t&&l!==(l="https://"+e[2])&&k(a,"href",l),2&t&&S(n,"no-modal",!e[1])},i:e,o:e,d(e){e&&g(n),f=!1,d()}}}function pr(e,t,n){let o,r;l(e,rt,(e=>n(1,o=e))),l(e,et,(e=>n(2,r=e)));const i=new ft;let s="";(async()=>{i.get("/users/current").then((e=>{n(0,s=e.user.displayName)}))})();const a=P();return[s,o,r,()=>{a("logout")}]}class fr extends ie{constructor(e){super(),re(this,e,pr,ur,s,{})}}function dr(e){let t,n;return t=new jt({}),{c(){ee(t.$$.fragment)},m(e,o){te(t,e,o),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){Y(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function hr(e){let t,n;return t=new Zo({props:{$$slots:{default:[mr]},$$scope:{ctx:e}}}),{c(){ee(t.$$.fragment)},m(e,o){te(t,e,o),n=!0},p(e,n){const o={};514&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){Y(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function mr(e){let t;return{c(){t=b(e[1])},m(e,n){m(e,t,n)},p(e,n){2&n&&O(t,e[1])},d(e){e&&g(t)}}}function gr(e){let t,n;return t=new Zo({props:{success:!0,$$slots:{default:[vr]},$$scope:{ctx:e}}}),{c(){ee(t.$$.fragment)},m(e,o){te(t,e,o),n=!0},p(e,n){const o={};516&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){Y(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function vr(e){let t;return{c(){t=b(e[2])},m(e,n){m(e,t,n)},p(e,n){4&n&&O(t,e[2])},d(e){e&&g(t)}}}function yr(e){let t,n,o,r,i=e[0]&&dr(),s=e[1]&&hr(e),a=e[2]&&gr(e);return{c(){t=y("div"),i&&i.c(),n=w(),s&&s.c(),o=w(),a&&a.c(),k(t,"class","upload svelte-74nv7x"),S(t,"no-modal",!e[3])},m(e,c){m(e,t,c),i&&i.m(t,null),h(t,n),s&&s.m(t,null),h(t,o),a&&a.m(t,null),r=!0},p(e,[r]){e[0]?i?1&r&&G(i,1):(i=dr(),i.c(),G(i,1),i.m(t,n)):i&&(K(),Y(i,1,1,(()=>{i=null})),X()),e[1]?s?(s.p(e,r),2&r&&G(s,1)):(s=hr(e),s.c(),G(s,1),s.m(t,o)):s&&(K(),Y(s,1,1,(()=>{s=null})),X()),e[2]?a?(a.p(e,r),4&r&&G(a,1)):(a=gr(e),a.c(),G(a,1),a.m(t,null)):a&&(K(),Y(a,1,1,(()=>{a=null})),X()),8&r&&S(t,"no-modal",!e[3])},i(e){r||(G(i),G(s),G(a),r=!0)},o(e){Y(i),Y(s),Y(a),r=!1},d(e){e&&g(t),i&&i.d(),s&&s.d(),a&&a.d()}}}function br(e,t,n){let o,r;l(e,pt,(e=>n(5,o=e))),l(e,rt,(e=>n(3,r=e)));const i=new ft;let s=!1,{config:a={}}=t,c="",u="";const p=P(),f=async()=>{if(s)return!1;n(0,s=!0);try{n(1,c=""),n(2,u="");let e=null,t=[];const r=n=>(e=null,t=[],p("uploaded",n),n);d(pt,o.onmessage=n=>{try{n.data.split("\n").forEach((n=>{let o=JSON.parse(n);if("finishedJob"===o.type&&(t.push(o),e&&o.jobID===e)){const e={success:!0,id:o.jobData.fileID,isDuplicate:o.jobData.isDuplicate||!1};r(e)}}))}catch(e){}},o);const l=new FormData;l.set("asynchronousConversion",!0),Object.keys(a).forEach((e=>{"file"!==e?l.set(e,JSON.stringify(a[e])):l.set(e,a[e])}));const f=await i.post("/files",l,!0,null,!1,!1);if(n(0,s=!1),f.success&&f.isDuplicate?(n(1,c=At("duplicate_file")),p("error",At("duplicate_file"))):n(2,u=At("success_upload_file")),f.jobID){e=f.jobID;const n=t.find((t=>t.jobID===e));if(n){const e={success:!0,id:n.jobData.fileID,isDuplicate:n.jobData.isDuplicate||!1};r(e)}}if(!f.success)return p("uploaded",f),f}catch(e){n(0,s=!1),n(1,c=e),console.error(e),p("error",e)}return!1};return D((async()=>{await f()})),e.$$set=e=>{"config"in e&&n(4,a=e.config)},e.$$.update=()=>{16&e.$$.dirty&&f()},[s,c,u,r,a]}class wr extends ie{constructor(e){super(),re(this,e,br,yr,s,{config:4})}}function xr(e){let t,n,o,r,i,s,a,c,l,u,p,f,d,v=!e[4]&&$r(),b=e[5]&&"get"==e[6]&&kr(e);const x=[Tr,Er,Or],O=[];function E(e,t){return e[5]?"get"==e[6]?1:"upload"==e[6]?2:-1:0}~(c=E(e))&&(l=O[c]=x[c](e));let T=e[5]&&!e[4]&&_r(e);return{c(){t=y("main"),n=y("div"),o=y("header"),v&&v.c(),r=w(),b&&b.c(),i=w(),s=y("a"),a=w(),l&&l.c(),u=w(),T&&T.c(),k(s,"href","#"),k(s,"class","close svelte-6ibcny"),k(o,"class","svelte-6ibcny"),k(n,"class","container svelte-6ibcny"),S(n,"container--enlarge",e[5]),k(t,"class","svelte-6ibcny"),S(t,"no-modal",!e[3]),S(t,"compact",e[4])},m(l,g){m(l,t,g),h(t,n),h(n,o),v&&v.m(o,null),h(o,r),b&&b.m(o,null),h(o,i),h(o,s),h(n,a),~c&&O[c].m(n,null),h(n,u),T&&T.m(n,null),p=!0,f||(d=$(s,"click",e[9]),f=!0)},p(e,s){e[4]?v&&(K(),Y(v,1,1,(()=>{v=null})),X()):v?16&s&&G(v,1):(v=$r(),v.c(),G(v,1),v.m(o,r)),e[5]&&"get"==e[6]?b?(b.p(e,s),96&s&&G(b,1)):(b=kr(e),b.c(),G(b,1),b.m(o,i)):b&&(K(),Y(b,1,1,(()=>{b=null})),X());let a=c;c=E(e),c===a?~c&&O[c].p(e,s):(l&&(K(),Y(O[a],1,1,(()=>{O[a]=null})),X()),~c?(l=O[c],l?l.p(e,s):(l=O[c]=x[c](e),l.c()),G(l,1),l.m(n,u)):l=null),e[5]&&!e[4]?T?(T.p(e,s),48&s&&G(T,1)):(T=_r(e),T.c(),G(T,1),T.m(n,null)):T&&(K(),Y(T,1,1,(()=>{T=null})),X()),32&s&&S(n,"container--enlarge",e[5]),8&s&&S(t,"no-modal",!e[3]),16&s&&S(t,"compact",e[4])},i(e){p||(G(v),G(b),G(l),G(T),p=!0)},o(e){Y(v),Y(b),Y(l),Y(T),p=!1},d(e){e&&g(t),v&&v.d(),b&&b.d(),~c&&O[c].d(),T&&T.d(),f=!1,d()}}}function $r(e){let t,n;return t=new ht({}),{c(){ee(t.$$.fragment)},m(e,o){te(t,e,o),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){Y(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function kr(e){let t,n,o;function r(t){e[15](t)}let i={};return void 0!==e[1]&&(i.value=e[1]),t=new St({props:i}),N.push((()=>Z(t,"value",r))),{c(){ee(t.$$.fragment)},m(e,n){te(t,e,n),o=!0},p(e,o){const r={};!n&&2&o&&(n=!0,r.value=e[1],B((()=>n=!1))),t.$set(r)},i(e){o||(G(t.$$.fragment,e),o=!0)},o(e){Y(t.$$.fragment,e),o=!1},d(e){ne(t,e)}}}function Or(e){let t,n,o,r;function i(t){e[16](t)}let s={};return void 0!==e[0]&&(s.config=e[0]),n=new wr({props:s}),N.push((()=>Z(n,"config",i))),n.$on("uploaded",e[11]),n.$on("error",e[12]),{c(){t=y("section"),ee(n.$$.fragment)},m(e,o){m(e,t,o),te(n,t,null),r=!0},p(e,t){const r={};!o&&1&t&&(o=!0,r.config=e[0],B((()=>o=!1))),n.$set(r)},i(e){r||(G(n.$$.fragment,e),r=!0)},o(e){Y(n.$$.fragment,e),r=!1},d(e){e&&g(t),ne(n)}}}function Er(t){let n,o,r;return o=new lr({}),o.$on("cancel",t[9]),o.$on("submit",t[10]),{c(){n=y("section"),ee(o.$$.fragment),k(n,"class","pixxioSectionFiles")},m(e,t){m(e,n,t),te(o,n,null),r=!0},p:e,i(e){r||(G(o.$$.fragment,e),r=!0)},o(e){Y(o.$$.fragment,e),r=!1},d(e){e&&g(n),ne(o)}}}function Tr(t){let n,o,r;return o=new Ut({}),o.$on("cancel",t[9]),o.$on("authenticated",t[7]),{c(){n=y("section"),ee(o.$$.fragment),k(n,"class","pixxioSectionLogin")},m(e,t){m(e,n,t),te(o,n,null),r=!0},p:e,i(e){r||(G(o.$$.fragment,e),r=!0)},o(e){Y(o.$$.fragment,e),r=!1},d(e){e&&g(n),ne(o)}}}function _r(t){let n,o;return n=new fr({}),n.$on("logout",t[8]),{c(){ee(n.$$.fragment)},m(e,t){te(n,e,t),o=!0},p:e,i(e){o||(G(n.$$.fragment,e),o=!0)},o(e){Y(n.$$.fragment,e),o=!1},d(e){ne(n,e)}}}function Sr(e){let t,n,o,r,i,s=e[2]&&xr(e);return{c(){s&&s.c(),t=w(),n=y("link"),o=y("link"),r=y("style"),r.textContent='/* Global CSS via SASS */\n#pixxio-integration {\n  font-family: "Heebo", Arial, Helvetica, sans-serif;\n  font-size: 16px;\n  all: initial;\n}',k(n,"rel","preconnect"),k(n,"href","https://fonts.gstatic.com"),k(n,"crossorigin",""),k(o,"href","https://fonts.googleapis.com/css2?family=Heebo:wght@400;700&family=Work+Sans:wght@400;500&display=swap"),k(o,"rel","stylesheet"),k(r,"lang","scss")},m(e,a){s&&s.m(e,a),m(e,t,a),h(document.head,n),h(document.head,o),h(document.head,r),i=!0},p(e,[n]){e[2]?s?(s.p(e,n),4&n&&G(s,1)):(s=xr(e),s.c(),G(s,1),s.m(t.parentNode,t)):s&&(K(),Y(s,1,1,(()=>{s=null})),X())},i(e){i||(G(s),i=!0)},o(e){Y(s),i=!1},d(e){s&&s.d(e),e&&g(t),g(n),g(o),g(r)}}}function Ar(e,t,n){let o,r,i,s,a,c,u;l(e,et,(e=>n(13,o=e))),l(e,ot,(e=>n(14,r=e))),l(e,at,(e=>n(2,i=e))),l(e,rt,(e=>n(3,s=e))),l(e,ut,(e=>n(4,a=e))),l(e,st,(e=>n(5,c=e))),l(e,ct,(e=>n(6,u=e)));let{uploadConfig:p={}}=t;const f=P();let d="";return e.$$set=e=>{"uploadConfig"in e&&n(0,p=e.uploadConfig)},e.$$.update=()=>{if(24576&e.$$.dirty&&o&&r){const e="wss://"+o.replace(/^(http|https):\/\//,"")+"/gobackend/ws?accessToken="+r;pt.update((()=>new WebSocket(e)))}},[p,d,i,s,a,c,u,()=>{st.update((()=>!0))},()=>{localStorage.removeItem("refreshToken"),localStorage.removeItem("domain"),st.update((()=>!1)),et.update((()=>"")),nt.update((()=>""))},()=>{f("cancel")},({detail:e})=>{f("submit",e)},({detail:e})=>{f("uploaded",e)},({detail:e})=>{f("uploadError",e)},o,r,function(e){d=e,n(1,d)},function(e){p=e,n(0,p)}]}class Cr extends ie{constructor(e){super(),re(this,e,Ar,Sr,s,{uploadConfig:0})}}class jr{constructor(e={},t="en"){this.config=e,this.runningPromise,this.boot(),this.storeConfig(e),this.app=new Cr({target:this.element,props:{standalone:!0,config:e}})}storeConfig(e){it.update((()=>e?.language||"en")),et.update((()=>e?.appUrl||"")),tt.update((()=>e?.appKey||"")),rt.update((()=>e?.modal)),lt.update((()=>!!e?.askForProxy)),ut.update((()=>e?.compact||!1))}boot(){if(this.config.element)this.element=this.config.element;else{const e=document.createElement("div");e.id="pixxio-integration",document.body.appendChild(e),this.element=e}}destroy(){at.update((()=>!1)),this.element.parentNode.removeChild(this.element)}destroyMedia(){at.update((()=>!1))}getMedia(e){yt.update((()=>e?.allowTypes||[])),bt.update((()=>e?.allowFormats||null)),xt.update((()=>e?.max>0&&e?.max||0)),$t.update((()=>e?.additionalResponseFields||[])),kt.update((()=>e?.showFileName)),Ot.update((()=>e?.showFileType)),Et.update((()=>e?.showFileSize));const t=Date.now();return wt.update((()=>t)),ct.update((()=>"get")),new Promise(((e,n)=>{at.update((()=>!0)),this.app.$on("submit",(t=>{at.update((()=>!1)),e(t.detail)})),this.app.$on("cancel",(()=>{at.update((()=>!1)),n()})),wt.subscribe((e=>{t!==e&&n()}))}))}on(e,t){switch(e){case"authState":st.subscribe((e=>{t&&"function"==typeof t&&t({login:e})}));break;default:console.error("Error: Event does not extist")}}pushMedia(e){const t=Date.now();return wt.update((()=>t)),ct.update((()=>"upload")),new Promise(((t,n)=>{at.update((()=>!0)),this.app.$set({uploadConfig:e}),this.app.$on("uploaded",(e=>{t(e.detail)})),this.app.$on("uploadError",(()=>{n()})),this.app.$on("cancel",(()=>{at.update((()=>!1)),n()}))}))}bulkMainVersionCheck(e){const t=new ft,n=c(st);return new Promise((async(o,r)=>{if(n)try{const n=200,r=[];for(let t=0;t<e.length;t++){const o=Math.floor(t/n);r[o]||(r[o]=[]),r[o].push(e[t])}Promise.all(r.map((async e=>{const n={ids:e,responseFields:["id","isMainVersion","mainVersion","mainVersionOriginalFileURL","mainVersionFileName","mainVersionFileSize"]},o=await t.get("/files/existence",n);if(!o.success)throw new Error(o.errormessage);return o}))).then((e=>{let t=[];e.forEach((e=>{t=[...t,...e.files]})),o(t)}))}catch(e){console.log(e),r(e)}else r()}))}forceLogout=()=>{localStorage.removeItem("refreshToken"),localStorage.removeItem("domain"),localStorage.removeItem("proxy"),st.update((()=>!1)),et.update((()=>"")),nt.update((()=>""))};getProxyConfiguration(){const e=localStorage.getItem("proxy");return e?JSON.parse(e):null}getFileById(e,t){const n=new ft,o=c(st);return new Promise((async(r,i)=>{if(o)try{const o={responseFields:["id","originalFileURL","width","height","fileName","fileExtension","uploadDate","modifyDate","rating","userID","fileSize","dominantColor","versions"],...t||{}},i=await n.get(`/files/${e}`,o);if(!i.success)throw new Error(i.errormessage);r(i)}catch(e){console.log(e),i(e)}else i()}))}}"undefined"!=typeof window&&(window.PIXXIO=jr);export default jr;
